/* ==============
   Butterfly 护眼模式同步样式（增强版）
   ============== */

/* 护眼模式变量 */
.eye-care-enabled {
  --ec-bg-color: #1a1a1a;
  --ec-text-color: #f8f9fa;        /* 主文本颜色 - 亮白色 */
  --ec-secondary-color: #b0b0b0;   /* 次要文本颜色 - 稍暗的白色 */
  --ec-border-color: #333333;
  --ec-card-bg: #2d2d2d;
  --ec-link-color: #8a9bff;
  --ec-code-bg: #252525;
}

/* 护眼模式基础样式 */
.eye-care-enabled {
  background-color: var(--ec-bg-color) !important;
  color: var(--ec-text-color) !important;
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* ✅ 强制统一所有文本颜色（关键！） */
.eye-care-enabled,
.eye-care-enabled *,
.eye-care-enabled *::before,
.eye-care-enabled *::after {
  /* 主文本颜色 */
  color: var(--ec-text-color) !important;
  
  /* 确保边框颜色也适配 */
  border-color: var(--ec-border-color) !important;
  
  /* 确保背景颜色适配 */
  background-color: transparent !important;
}

/* ✅ 例外：卡片/容器需要背景色 */
.eye-care-enabled .card,
.eye-care-enabled .container,
.eye-care-enabled .box,
.eye-care-enabled .panel,
.eye-care-enabled .post,
.eye-care-enabled article,
.eye-care-enabled section,
.eye-care-enabled button,
.eye-care-enabled main,
.eye-care-enabled .content,
.eye-care-enabled .page,
.eye-care-enabled .poem-card,
.eye-care-enabled .giscus-container {
  background-color: var(--ec-card-bg) !important;
}

/* ✅ 链接颜色保持主题色 */
.eye-care-enabled a,
.eye-care-enabled a:link,
.eye-care-enabled a:visited,
.eye-care-enabled a:hover,
.eye-care-enabled a:active {
  color: var(--ec-link-color) !important;
}

/* ✅ 代码块特殊处理 */
.eye-care-enabled code,
.eye-care-enabled pre,
.eye-care-enabled kbd,
.eye-care-enabled samp {
  background-color: var(--ec-code-bg) !important;
  color: var(--ec-text-color) !important;
  border-color: var(--ec-border-color) !important;
}

/* ✅ 表单元素 */
.eye-care-enabled input,
.eye-care-enabled textarea,
.eye-care-enabled select,
.eye-care-enabled button {
  color: var(--ec-text-color) !important;
  background-color: var(--ec-card-bg) !important;
  border-color: var(--ec-border-color) !important;
}

/* ✅ 表格 */
.eye-care-enabled table {
  border-color: var(--ec-border-color) !important;
}

.eye-care-enabled th,
.eye-care-enabled td {
  color: var(--ec-text-color) !important;
  background-color: var(--ec-card-bg) !important;
  border-color: var(--ec-border-color) !important;
}

/* ✅ 占位符文本 */
.eye-care-enabled input::placeholder,
.eye-care-enabled textarea::placeholder {
  color: var(--ec-secondary-color) !important;
}

/* ✅ 选择的文本 */
.eye-care-enabled ::selection {
  background-color: var(--ec-link-color) !important;
  color: white !important;
}