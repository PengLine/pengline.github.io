<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>系统架构技术选型之 DB 篇 | 余一叶知秋尽</title><meta name="author" content="余一叶知秋尽"><meta name="copyright" content="余一叶知秋尽"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="在进行数据库选型时，需结合数据模型、一致性要求、吞吐延迟、扩展性、运维复杂度、生态兼容性等多维度综合判断。">
<meta property="og:type" content="article">
<meta property="og:title" content="系统架构技术选型之 DB 篇">
<meta property="og:url" content="https://pengline.github.io/2025/10/7c537a595a0f4075b5c7ed3bb8389716/index.html">
<meta property="og:site_name" content="余一叶知秋尽">
<meta property="og:description" content="在进行数据库选型时，需结合数据模型、一致性要求、吞吐延迟、扩展性、运维复杂度、生态兼容性等多维度综合判断。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://pengline.github.io/img/essay/small204229In3bP1756557749.webp">
<meta property="article:published_time" content="2025-10-14T16:00:00.000Z">
<meta property="article:modified_time" content="2025-10-29T04:42:56.065Z">
<meta property="article:author" content="余一叶知秋尽">
<meta property="article:tag" content="分布式数据库">
<meta property="article:tag" content="架构设计">
<meta property="article:tag" content="DB技术选型">
<meta property="article:tag" content="关系型数据库">
<meta property="article:tag" content="非关系型数据库">
<meta property="article:tag" content="列式数据库">
<meta property="article:tag" content="文档数据库">
<meta property="article:tag" content="宽表数据库">
<meta property="article:tag" content="时序数据库">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://pengline.github.io/img/essay/small204229In3bP1756557749.webp"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "系统架构技术选型之 DB 篇",
  "url": "https://pengline.github.io/2025/10/7c537a595a0f4075b5c7ed3bb8389716/",
  "image": "https://pengline.github.io/img/essay/small204229In3bP1756557749.webp",
  "datePublished": "2025-10-14T16:00:00.000Z",
  "dateModified": "2025-10-29T04:42:56.065Z",
  "author": [
    {
      "@type": "Person",
      "name": "余一叶知秋尽",
      "url": "https://pengline.github.io"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://pengline.github.io/2025/10/7c537a595a0f4075b5c7ed3bb8389716/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":30,"languages":{"author":"作者: 余一叶知秋尽","link":"链接: ","source":"来源: 余一叶知秋尽","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '系统架构技术选型之 DB 篇',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/css/font.css"><svg aria-hidden="true" style="position:absolute; overflow:hidden; width:0; height:0"><symbol id="icon-sun" viewBox="0 0 1024 1024"><path d="M960 512l-128 128v192h-192l-128 128-128-128H192v-192l-128-128 128-128V192h192l128-128 128 128h192v192z" fill="#FFD878" p-id="8420"></path><path d="M736 512a224 224 0 1 0-448 0 224 224 0 1 0 448 0z" fill="#FFE4A9" p-id="8421"></path><path d="M512 109.248L626.752 224H800v173.248L914.752 512 800 626.752V800h-173.248L512 914.752 397.248 800H224v-173.248L109.248 512 224 397.248V224h173.248L512 109.248M512 64l-128 128H192v192l-128 128 128 128v192h192l128 128 128-128h192v-192l128-128-128-128V192h-192l-128-128z" fill="#4D5152" p-id="8422"></path><path d="M512 320c105.888 0 192 86.112 192 192s-86.112 192-192 192-192-86.112-192-192 86.112-192 192-192m0-32a224 224 0 1 0 0 448 224 224 0 0 0 0-448z" fill="#4D5152" p-id="8423"></path></symbol><symbol id="icon-moon" viewBox="0 0 1024 1024"><path d="M611.370667 167.082667a445.013333 445.013333 0 0 1-38.4 161.834666 477.824 477.824 0 0 1-244.736 244.394667 445.141333 445.141333 0 0 1-161.109334 38.058667 85.077333 85.077333 0 0 0-65.066666 135.722666A462.08 462.08 0 1 0 747.093333 102.058667a85.077333 85.077333 0 0 0-135.722666 65.024z" fill="#FFB531" p-id="11345"></path><path d="M329.728 274.133333l35.157333-35.157333a21.333333 21.333333 0 1 0-30.165333-30.165333l-35.157333 35.157333-35.114667-35.157333a21.333333 21.333333 0 0 0-30.165333 30.165333l35.114666 35.157333-35.114666 35.157334a21.333333 21.333333 0 1 0 30.165333 30.165333l35.114667-35.157333 35.157333 35.157333a21.333333 21.333333 0 1 0 30.165333-30.165333z" fill="#030835" p-id="11346"></path></symbol></svg><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="余一叶知秋尽" type="application/atom+xml">
</head><body><div id="web_bg" style="background-image: url(/img/202511222121.webp);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src= "/img/20241215205335173426721579192.webp" data-lazy-src="/img/butterfly-icon.webp" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">49</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">213</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">40</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list-ul"></i><span> 归档</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-outdent"></i><span> AI</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/ai/aigc/"><i class="fa-fw fas fa-cubes"></i><span> AIGC 创意平台</span></a></li><li><a class="site-page child" href="/ai/agent/medical/"><i class="fa-fw fas fa-medkit"></i><span> 医疗问答Agent</span></a></li><li><a class="site-page child" href="https://github.com/HengLine/ai-stocks-agent"><i class="fa-fw fas fa-line-chart"></i><span> 股票分析Agent</span></a></li><li><a class="site-page child" href="/ai/agent/video/"><i class="fa-fw fas fa-cut"></i><span> 视频混剪Agent</span></a></li><li><a class="site-page child" href="https://github.com/HengLine/video-shot-agent"><i class="fa-fw fas fa-file-video"></i><span> 剧本分镜Agent</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-cogs"></i><span> 工具</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/tools/json/"><i class="fa-fw fas fa-cog"></i><span> JSON 格式工具集</span></a></li><li><a class="site-page child" href="/tools/image/compressor/"><i class="fa-fw fas fa-image"></i><span> 图像批量压缩大小</span></a></li><li><a class="site-page child" href="/tools/image/watermark/"><i class="fa-fw fas fa-image"></i><span> 图像批量添加水印</span></a></li><li><a class="site-page child" href="/tools/image/convert/"><i class="fa-fw fas fa-image"></i><span> 图像格式编码转换</span></a></li><li><a class="site-page child" href="/tools/video/cropping/"><i class="fa-fw fas fa-cut"></i><span> 视频范围大小裁剪</span></a></li><li><a class="site-page child" href="/tools/video/watermark/"><i class="fa-fw fas fa-video"></i><span> 视频加水印马赛克</span></a></li><li><a class="site-page child" href="/tools/download/"><i class="fa-fw fas fa-download"></i><span> 批量下载媒体文件</span></a></li><li><a class="site-page child" href="/tools/docu/watermark/"><i class="fa-fw fas fa-file"></i><span> 文档添加文字水印</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-pencil-square"></i><span> 文学</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/literature/poems"><i class="fa-fw fas fa-align-center"></i><span> 三行诗集</span></a></li><li><a class="site-page child" href="/literature/classical"><i class="fa-fw fas fa-align-justify"></i><span> 诗词歌赋</span></a></li><li><a class="site-page child" href="/literature/modern"><i class="fa-fw fas fa-align-left"></i><span> 现代诗歌</span></a></li><li><a class="site-page child" href="/literature/journal"><i class="fa-fw fas fa-align-right"></i><span> 随心随笔</span></a></li><li><a class="site-page child" href="/literature/incomplete"><i class="fa-fw fas fa-columns"></i><span> 忘梦残句</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-commenting"></i><span> 交流</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></li><li><a class="site-page child" href="/messageboard/"><i class="fa-fw fas fa-paper-plane"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/img/essay/small204229In3bP1756557749.webp);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src= "/img/20241215205335173426721579192.webp" data-lazy-src="/img/logo.png" alt="Logo"><span class="site-name">余一叶知秋尽</span></a><a class="nav-page-title" href="/"><span class="site-name">系统架构技术选型之 DB 篇</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list-ul"></i><span> 归档</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-outdent"></i><span> AI</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/ai/aigc/"><i class="fa-fw fas fa-cubes"></i><span> AIGC 创意平台</span></a></li><li><a class="site-page child" href="/ai/agent/medical/"><i class="fa-fw fas fa-medkit"></i><span> 医疗问答Agent</span></a></li><li><a class="site-page child" href="https://github.com/HengLine/ai-stocks-agent"><i class="fa-fw fas fa-line-chart"></i><span> 股票分析Agent</span></a></li><li><a class="site-page child" href="/ai/agent/video/"><i class="fa-fw fas fa-cut"></i><span> 视频混剪Agent</span></a></li><li><a class="site-page child" href="https://github.com/HengLine/video-shot-agent"><i class="fa-fw fas fa-file-video"></i><span> 剧本分镜Agent</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-cogs"></i><span> 工具</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/tools/json/"><i class="fa-fw fas fa-cog"></i><span> JSON 格式工具集</span></a></li><li><a class="site-page child" href="/tools/image/compressor/"><i class="fa-fw fas fa-image"></i><span> 图像批量压缩大小</span></a></li><li><a class="site-page child" href="/tools/image/watermark/"><i class="fa-fw fas fa-image"></i><span> 图像批量添加水印</span></a></li><li><a class="site-page child" href="/tools/image/convert/"><i class="fa-fw fas fa-image"></i><span> 图像格式编码转换</span></a></li><li><a class="site-page child" href="/tools/video/cropping/"><i class="fa-fw fas fa-cut"></i><span> 视频范围大小裁剪</span></a></li><li><a class="site-page child" href="/tools/video/watermark/"><i class="fa-fw fas fa-video"></i><span> 视频加水印马赛克</span></a></li><li><a class="site-page child" href="/tools/download/"><i class="fa-fw fas fa-download"></i><span> 批量下载媒体文件</span></a></li><li><a class="site-page child" href="/tools/docu/watermark/"><i class="fa-fw fas fa-file"></i><span> 文档添加文字水印</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-pencil-square"></i><span> 文学</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/literature/poems"><i class="fa-fw fas fa-align-center"></i><span> 三行诗集</span></a></li><li><a class="site-page child" href="/literature/classical"><i class="fa-fw fas fa-align-justify"></i><span> 诗词歌赋</span></a></li><li><a class="site-page child" href="/literature/modern"><i class="fa-fw fas fa-align-left"></i><span> 现代诗歌</span></a></li><li><a class="site-page child" href="/literature/journal"><i class="fa-fw fas fa-align-right"></i><span> 随心随笔</span></a></li><li><a class="site-page child" href="/literature/incomplete"><i class="fa-fw fas fa-columns"></i><span> 忘梦残句</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-commenting"></i><span> 交流</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></li><li><a class="site-page child" href="/messageboard/"><i class="fa-fw fas fa-paper-plane"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">系统架构技术选型之 DB 篇</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-10-14T16:00:00.000Z" title="发表于 2025-10-15 00:00:00">2025-10-15</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-10-29T04:42:56.065Z" title="更新于 2025-10-29 12:42:56">2025-10-29</time></span></div><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%9E%B6%E6%9E%84/">架构</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%9E%B6%E6%9E%84/%E6%8A%80%E6%9C%AF%E9%80%89%E5%9E%8B/">技术选型</a></span><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><p>以下根据八大类别，逐一分析各个领域常用数据库的<strong>核心特点</strong>与<strong>典型使用场景</strong>，帮助你在实际项目中做出精准选型。</p>
<blockquote>
<ul class="lvl-1">
<li class="lvl-2"><strong>关系型数据库</strong>：<strong>MySQL</strong>、Oracle、<strong>PostgreSQL</strong>、SQL Server</li>
<li class="lvl-2"><strong>关系型分布式数据库</strong>：<strong>TiDB</strong>、Spanner、<strong>OceanBase</strong>、CockroachDB、YugabyteDB</li>
<li class="lvl-2"><strong>键值数据库</strong>：<strong>Redis</strong>、Memcached、RocksDB、DynamoDB、Etcd</li>
<li class="lvl-2"><strong>文档数据库</strong>：<strong>MongoDB</strong>、CouchDB 、<strong>Elasticsearch</strong>（搜索引擎）、Couchbase</li>
<li class="lvl-2"><strong>列式数据库</strong>：<strong>ClickHouse</strong>、<strong>Doris</strong>、StarRocks、Druid</li>
<li class="lvl-2"><strong>宽表数据库</strong>：<strong>Cassandra</strong>、<strong>HBase</strong>、ScyllaDB</li>
<li class="lvl-2"><strong>时序数据库</strong>：<strong>InfluxDB</strong>、<strong>Prometheus</strong>、TDengine、TimescaleDB</li>
<li class="lvl-2"><strong>图数据库</strong>：<strong>Neo4j</strong>、JanusGraph、Dgraph、NebulaGraph</li>
</ul>
</blockquote>
<p><strong>不同类别数据库的比较</strong>：</p>
<table>
<thead>
<tr>
<th>类别</th>
<th>核心原理</th>
<th>数据模型</th>
<th>一致性</th>
<th>扩展方式</th>
<th>典型优势</th>
<th>主要局限</th>
<th>使用场景</th>
</tr>
</thead>
<tbody>
<tr>
<td>关系型数据库</td>
<td>基于关系模型 + ACID 事务，B+树索引</td>
<td>表（行/列）<br />固定 Schema</td>
<td>强一致性（ACID）</td>
<td>垂直扩展为主，分库分表复杂</td>
<td>事务强、SQL 标准、生态成熟</td>
<td>水平扩展难，Schema 变更成本高</td>
<td>订单系统、支付、ERP、CRM 等强一致业务</td>
</tr>
<tr>
<td>关系型分布式数据库</td>
<td>分布式架构 + SQL 兼容 + 分布式事务</td>
<td>表（逻辑）<br />自动分片</td>
<td>强一致性<br />（分布式 ACID）</td>
<td>水平扩展（自动分片）</td>
<td>高可用、弹性扩缩容、兼容 SQL</td>
<td>运维复杂，部分复杂查询性能弱</td>
<td>互联网高并发交易、HTAP 混合负载、替代分库分表</td>
</tr>
<tr>
<td>键值数据库</td>
<td>Key → Value 映射，哈希/LSM-Tree 存储</td>
<td>Key-Value</td>
<td>弱一致（Redis）强一致（etcd）</td>
<td>水平扩展（如 Redis Cluster）</td>
<td>极低延迟（μs 级）、高吞吐</td>
<td>无复杂查询，无法按 Value 检索</td>
<td>缓存、会话、分布式锁、配置中心、底层存储引擎</td>
</tr>
<tr>
<td>文档数据库</td>
<td>JSON/BSON 文档存储，无固定 Schema</td>
<td>自包含文档<br />（嵌套结构）</td>
<td>最终一致<br />强一致</td>
<td>水平扩展（按文档 ID 分片）</td>
<td>Schema 灵活、开发效率高、减少 JOIN</td>
<td>跨文档事务弱，存储冗余</td>
<td>CMS、用户画像、IoT 设备数据、快速迭代产品</td>
</tr>
<tr>
<td>列式数据库 (OLAP)</td>
<td>按列存储 + 向量化执行 + 高压缩</td>
<td>列族（宽表）<br />面向分析</td>
<td>最终一致<br />（近实时）</td>
<td>水平扩展（MPP 架构）</td>
<td>聚合查询极快（亿级秒出）</td>
<td>不支持高并发点查，写入成本高</td>
<td>实时报表、用户行为分析、BI 看板、广告效果分析</td>
</tr>
<tr>
<td>宽表数据库</td>
<td>行 + 动态列族，LSM-Tree 存储</td>
<td>RowKey + ColumnFamily<br />（Qualifier）</td>
<td>CP（HBase）<br /> AP（Cassandra）</td>
<td>水平扩展（自动分片）</td>
<td>高写入吞吐、适合稀疏数据</td>
<td>仅支持 RowKey 查询，JOIN 困难</td>
<td>聊天记录、消息历史、推荐特征宽表、IoT 时序写入</td>
</tr>
<tr>
<td>时序数据库</td>
<td>时间分区 + 列式压缩 + 追加写</td>
<td>时间戳 + 指标 + 标签</td>
<td>最终一致</td>
<td>水平扩展（按时间/设备分片）</td>
<td>高密度写入 + 高效压缩</td>
<td>通用性弱，非时序场景不适用</td>
<td>服务器监控、IoT 指标、APM、金融行情</td>
</tr>
<tr>
<td>图数据库</td>
<td>节点 + 边 + 属性，邻接表存储</td>
<td>图结构（Vertex/Edge）</td>
<td>强一致（单机）最终一致（分布式）</td>
<td>水平扩展（部分支持）</td>
<td>深度关系遍历极快</td>
<td>不适合简单 CRUD，生态较小</td>
<td>社交关系、欺诈检测、知识图谱、反洗钱</td>
</tr>
</tbody>
</table>
<p><strong>需求和推荐数据库类型</strong>：</p>
<table>
<thead>
<tr>
<th>需求</th>
<th>推荐数据库类型</th>
<th>特点</th>
</tr>
</thead>
<tbody>
<tr>
<td>需要 ACID 事务、强一致性</td>
<td>关系型 / NewSQL</td>
<td>ACID 事务</td>
</tr>
<tr>
<td>数据结构频繁变化、半结构化</td>
<td>文档数据库</td>
<td>数据结构频繁变化</td>
</tr>
<tr>
<td>极致缓存性能、简单读写</td>
<td>键值数据库</td>
<td>数据查询性能高</td>
</tr>
<tr>
<td>实时报表、用户行为分析</td>
<td>列式数据库（OLAP）</td>
<td>实时聚合分析</td>
</tr>
<tr>
<td>海量写入、稀疏数据、RowKey 查询</td>
<td>宽表数据库</td>
<td>高并发写入 + 稀疏数据</td>
</tr>
<tr>
<td>监控、IoT、指标数据</td>
<td>时序数据库</td>
<td>时间戳 + 指标值的数据</td>
</tr>
<tr>
<td>社交、风控、知识图谱</td>
<td>图数据库</td>
<td>是“关系”而非“属性”</td>
</tr>
<tr>
<td>全文搜索、日志分析</td>
<td>搜索引擎（Elasticsearch）</td>
<td>全文搜索或日志分析</td>
</tr>
</tbody>
</table>
<p><strong>需求和推荐数据库</strong>：</p>
<table>
<thead>
<tr>
<th>需求</th>
<th>推荐数据库</th>
</tr>
</thead>
<tbody>
<tr>
<td>强事务 + 高并发 OLTP</td>
<td>TiDB、CockroachDB、PostgreSQL</td>
</tr>
<tr>
<td>灵活 Schema + 快速迭代</td>
<td>MongoDB、Couchbase</td>
</tr>
<tr>
<td>全文搜索 + 日志分析</td>
<td>Elasticsearch</td>
</tr>
<tr>
<td>实时数仓 + 多维分析</td>
<td>StarRocks、Doris、ClickHouse</td>
</tr>
<tr>
<td>全球分布式 + 强一致</td>
<td>Spanner、CockroachDB、OceanBase</td>
</tr>
<tr>
<td>IoT / 监控时序数据</td>
<td>TDengine、InfluxDB、Prometheus</td>
</tr>
<tr>
<td>社交/风控图关系</td>
<td>Neo4j、NebulaGraph</td>
</tr>
<tr>
<td>高写入 + 高可用</td>
<td>Cassandra、ScyllaDB</td>
</tr>
<tr>
<td>缓存 / 会话 / 锁</td>
<td>Redis</td>
</tr>
<tr>
<td>K8s / 分布式协调</td>
<td>Etcd</td>
</tr>
</tbody>
</table>
<blockquote>
<ul class="lvl-1">
<li class="lvl-2">
<p><strong>同类选型优先看“生态匹配”</strong>：如团队熟悉 PostgreSQL → 优先考虑 TimescaleDB/YugabyteDB；</p>
</li>
<li class="lvl-2">
<p><strong>云上项目优先托管服务</strong>：如 AWS → DynamoDB，GCP → Spanner；</p>
</li>
<li class="lvl-2">
<p><strong>性能敏感场景做 PoC</strong>：如 ClickHouse vs StarRocks，需实测写入/查询负载；</p>
</li>
<li class="lvl-2">
<p><strong>避免过度设计</strong>：简单缓存用 Redis 足矣，无需上 Couchbase。</p>
</li>
</ul>
</blockquote>
<h2 id="关系型数据库（OLTP）">关系型数据库（OLTP）</h2>
<p>OLTP（OnLine Transaction Processsing ）为联机事务处理。是与功能、业务强相关的事务查询系统，要保证高并发场景下低时延的查询和处理效率。</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>基于 <strong>关系模型（表、行、列）</strong> 和 <strong>ACID 事务</strong>；</p>
</li>
<li class="lvl-2">
<p>使用 <strong>SQL</strong> 作为标准查询语言；</p>
</li>
<li class="lvl-2">
<p>通过 <strong>B+树索引</strong> 支持高效点查和范围查询；</p>
</li>
<li class="lvl-2">
<p>通常采用 <strong>主从复制</strong> 或 <strong>共享存储</strong> 实现高可用。</p>
</li>
</ul>
<p><strong>典型使用场景</strong></p>
<blockquote>
<ul class="lvl-1">
<li class="lvl-2">
<p>需要<strong>强一致性</strong>和<strong>复杂事务</strong>的业务系统（如银行转账、订单支付）；</p>
</li>
<li class="lvl-2">
<p>数据结构<strong>相对稳定</strong>，表间存在<strong>强关联</strong>（如用户-订单-商品）；</p>
</li>
<li class="lvl-2">
<p>需要<strong>复杂 JOIN、子查询、窗口函数</strong>等分析能力；</p>
</li>
<li class="lvl-2">
<p>企业核心 ERP、CRM、财务系统。</p>
</li>
</ul>
</blockquote>
<p><strong>局限和不足</strong></p>
<blockquote>
<ul class="lvl-1">
<li class="lvl-2">
<p>水平扩展困难（分库分表复杂）；</p>
</li>
<li class="lvl-2">
<p>不适合半结构化或频繁变更的 Schema；</p>
</li>
<li class="lvl-2">
<p>高并发写入时性能瓶颈明显。</p>
</li>
</ul>
</blockquote>
<h3 id="MySQL">MySQL</h3>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>特点</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">开源、社区活跃、生态完善；</li>
<li class="lvl-4">支持 InnoDB（ACID）、主从复制、分库分表（ShardingSphere/Vitess）；</li>
<li class="lvl-4">性能均衡，适合中高并发 OLTP。</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>使用场景</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">Web 应用后端（电商、社交、CMS）；</li>
<li class="lvl-4">中小企业核心业务系统；</li>
<li class="lvl-4">与 ORM（如 MyBatis、Hibernate）深度集成。</li>
</ul>
</li>
</ul>
<h3 id="PostgreSQL">PostgreSQL</h3>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>特点</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">功能强大：支持 JSONB、GIS、全文检索、窗口函数、逻辑复制；</li>
<li class="lvl-4">严格遵循 SQL 标准，扩展性强（FDW、插件）；</li>
<li class="lvl-4">MVCC 实现优秀，读写性能均衡。</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>使用场景</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">复杂查询、地理信息系统（PostGIS）；</li>
<li class="lvl-4">金融、电信等对数据一致性要求高的系统；</li>
<li class="lvl-4">作为 TimescaleDB、Citus 等扩展的基础。</li>
</ul>
</li>
</ul>
<h3 id="Oracle">Oracle</h3>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>特点</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">商业数据库王者，高可用（RAC）、高安全、强事务；</li>
<li class="lvl-4">运维复杂、成本高；</li>
<li class="lvl-4">支持海量数据、复杂 PL/SQL。</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>使用场景</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">银行、保险、政府等传统行业核心系统；</li>
<li class="lvl-4">需要强审计、高 SLA 的关键业务。</li>
</ul>
</li>
</ul>
<h3 id="SQL-Server">SQL Server</h3>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>特点</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">与 Windows/.NET 生态深度集成；</li>
<li class="lvl-4">BI 工具（SSIS/SSAS/SSRS）强大；</li>
<li class="lvl-4">云上 Azure SQL 提供托管服务。</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>使用场景</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">企业内部 ERP、CRM 系统（尤其微软技术栈）；</li>
<li class="lvl-4">数据仓库与报表分析一体化场景。</li>
</ul>
</li>
</ul>
<h3 id="全面比较">全面比较</h3>
<table>
<thead>
<tr>
<th>数据库</th>
<th>开源</th>
<th>高可用方案</th>
<th>扩展性</th>
<th>典型优势</th>
<th>主要局限</th>
<th>适用场景</th>
</tr>
</thead>
<tbody>
<tr>
<td>MySQL</td>
<td>是</td>
<td>主从复制、MGR、InnoDB Cluster</td>
<td>垂直扩展为主，分库分表需中间件</td>
<td>生态成熟、社区活跃、运维简单</td>
<td>复杂查询优化弱，JSON 支持一般</td>
<td>Web 应用、中小电商、SaaS 后端</td>
</tr>
<tr>
<td>PostgreSQL</td>
<td>是</td>
<td>流复制 + Patroni、逻辑复制</td>
<td>垂直扩展，Citus 支持分片</td>
<td>功能强大（GIS、JSONB、窗口函数）、标准兼容好</td>
<td>运维略复杂，内存管理较重</td>
<td>金融系统、地理信息、复杂分析型 OLTP</td>
</tr>
<tr>
<td>Oracle</td>
<td>否</td>
<td>RAC（Real Application Clusters）</td>
<td>垂直扩展，Exadata 支持横向</td>
<td>企业级高可用、安全审计强、PL/SQL 成熟</td>
<td>成本极高、运维复杂</td>
<td>银行核心系统、政府、大型企业 ERP</td>
</tr>
<tr>
<td>SQL Server</td>
<td>否（有 Express 免费版）</td>
<td>Always On AG、Failover Cluster</td>
<td>垂直扩展，Azure SQL 支持弹性池</td>
<td>与 .NET 深度集成、BI 工具强大</td>
<td>仅 Windows/Linux 有限支持，云绑定强</td>
<td>企业内部系统（ERP/CRM）、微软技术栈</td>
</tr>
</tbody>
</table>
<h2 id="关系型分布式数据库（NewSQL）">关系型分布式数据库（NewSQL）</h2>
<ul class="lvl-0">
<li class="lvl-2">
<p>在保留 <strong>SQL 兼容性 + ACID 事务</strong> 的前提下，通过 <strong>分布式架构</strong>（如 Raft/Paxos + 分片）实现水平扩展；</p>
</li>
<li class="lvl-2">
<p>数据自动分片（Sharding），计算与存储分离；</p>
</li>
<li class="lvl-2">
<p>支持 <strong>分布式事务</strong>（如 2PC、Percolator、TSO）。</p>
</li>
</ul>
<p><strong>典型使用场景</strong></p>
<blockquote>
<ul class="lvl-1">
<li class="lvl-2">
<p>互联网高并发交易系统（如双11订单、支付）；</p>
</li>
<li class="lvl-2">
<p>需要从 MySQL/Oracle <strong>平滑迁移</strong> 且解决扩展性问题；</p>
</li>
<li class="lvl-2">
<p><strong>HTAP 混合负载</strong>（同时支持 OLTP + 实时分析）；</p>
</li>
<li class="lvl-2">
<p>全球多活部署（如 SaaS 服务）。</p>
</li>
</ul>
</blockquote>
<p><strong>局限和不足</strong></p>
<blockquote>
<ul class="lvl-1">
<li class="lvl-2">
<p>运维复杂度高于单机数据库；</p>
</li>
<li class="lvl-2">
<p>部分 NewSQL 对复杂 JOIN 支持有限；</p>
</li>
<li class="lvl-2">
<p>开源版功能可能弱于商业版。</p>
</li>
</ul>
</blockquote>
<h3 id="TiDB">TiDB</h3>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>特点</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">兼容 MySQL 协议，HTAP 架构（TiKV + TiFlash）；</li>
<li class="lvl-4">强一致性（Raft）、弹性扩缩容；</li>
<li class="lvl-4">适合从 MySQL 平滑迁移。</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>使用场景</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">互联网高并发交易系统（如支付、订单）；</li>
<li class="lvl-4">需要实时分析的混合负载（HTAP）；</li>
<li class="lvl-4">替代 MySQL 分库分表方案。</li>
</ul>
</li>
</ul>
<h3 id="CockroachDB">CockroachDB</h3>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>特点</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">兼容 PostgreSQL 语法；</li>
<li class="lvl-4">多活（Multi-Region）部署，自动故障转移；</li>
<li class="lvl-4">强一致性（基于 Raft + HLC）。</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>使用场景</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">全球分布式 SaaS 应用；</li>
<li class="lvl-4">对数据强一致性和高可用要求极高的系统；</li>
<li class="lvl-4">云原生架构（K8s 友好）。</li>
</ul>
</li>
</ul>
<h3 id="OceanBase">OceanBase</h3>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>特点</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">蚂蚁集团自研，Paxos 多副本强一致；</li>
<li class="lvl-4">高压缩比、低成本存储；</li>
<li class="lvl-4">支持超大规模集群（百万 QPS）。</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>使用场景</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">金融级核心系统（如双11交易）；</li>
<li class="lvl-4">国内政企、银行替换 Oracle 的首选。</li>
</ul>
</li>
</ul>
<h3 id="Spanner（Google-Cloud）">Spanner（Google Cloud）</h3>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>特点</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">全球分布式、TrueTime API 实现外部一致性；</li>
<li class="lvl-4">托管服务，无需运维；</li>
<li class="lvl-4">成本高，仅限 GCP。</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>使用场景</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">全球化业务（如 Google Ads、Play Store）；</li>
<li class="lvl-4">需要跨洲强一致性的 SaaS 平台。</li>
</ul>
</li>
</ul>
<h3 id="YugabyteDB">YugabyteDB</h3>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>特点</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">兼容 PostgreSQL + Cassandra API；</li>
<li class="lvl-4">分布式 SQL，支持多模型；</li>
<li class="lvl-4">开源 + 云托管（YugabyteDB Managed）。</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>使用场景</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">需要同时处理关系型和宽表数据的混合场景；</li>
<li class="lvl-4">从 Cassandra 迁移但希望获得 SQL 能力。</li>
</ul>
</li>
</ul>
<h3 id="全面比较-2">全面比较</h3>
<table>
<thead>
<tr>
<th>数据库</th>
<th>开源</th>
<th>SQL 兼容</th>
<th>分布式事务</th>
<th>多活支持</th>
<th>典型优势</th>
<th>主要局限</th>
<th>适用场景</th>
</tr>
</thead>
<tbody>
<tr>
<td>TiDB</td>
<td>是</td>
<td>MySQL</td>
<td>支持（Percolator）</td>
<td>同城多活</td>
<td>与 MySQL 兼容，HTAP 一体</td>
<td>跨 AZ 延迟敏感，资源消耗大</td>
<td>替代 MySQL 分库分表，互联网高并发交易</td>
</tr>
<tr>
<td>CockroachD</td>
<td>是（BSL）</td>
<td>PostgreSQL</td>
<td>支持（Spanner-like）</td>
<td>全球多活</td>
<td>强一致性、K8s 友好、自动 rebalance</td>
<td>JOIN 性能一般，学习曲线陡</td>
<td>全球化 SaaS、云原生应用</td>
</tr>
<tr>
<td>OceanBase</td>
<td>是（社区版）</td>
<td>MySQL / Oracle</td>
<td>支持（Paxos）</td>
<td>多地多活</td>
<td>高压缩比、金融级高可用</td>
<td>生态较新，文档偏中文</td>
<td>银行核心系统、国产化替代 Oracle</td>
</tr>
<tr>
<td>Spanner</td>
<td>是（GCP 托管）</td>
<td>ANSI SQL</td>
<td>支持（TrueTime）</td>
<td>全球强一致多活</td>
<td>全球部署、外部一致性</td>
<td>仅 GCP，成本高</td>
<td>Google 级全球化业务（如 Ads）</td>
</tr>
<tr>
<td>YugabyteDB</td>
<td>是</td>
<td>PostgreSQL + Cassandra</td>
<td>支持</td>
<td>多区域部署</td>
<td>多 API 支持，云原生</td>
<td>社区较小，企业版功能强</td>
<td>混合负载（关系+宽表），云迁移</td>
</tr>
</tbody>
</table>
<h2 id="键值数据库（KV）">键值数据库（KV）</h2>
<ul class="lvl-0">
<li class="lvl-2">
<p>最简单的 NoSQL 模型：<strong>Key → Value</strong>；</p>
</li>
<li class="lvl-2">
<p>Value 可以是字符串、字节数组，或复杂结构（如 Redis 的 List/Hash）；</p>
</li>
<li class="lvl-2">
<p>通常基于 <strong>哈希表</strong> 或 <strong>LSM-Tree</strong> 实现；</p>
</li>
<li class="lvl-2">
<p>读写性能极高（微秒级延迟）。</p>
</li>
</ul>
<p><strong>典型使用场景</strong></p>
<blockquote>
<ul class="lvl-1">
<li class="lvl-2">
<p><strong>缓存</strong>（Redis 缓存热点数据）；</p>
</li>
<li class="lvl-2">
<p><strong>会话存储</strong>（用户登录态）；</p>
</li>
<li class="lvl-2">
<p><strong>分布式锁、计数器、排行榜</strong>；</p>
</li>
<li class="lvl-2">
<p><strong>配置中心、服务发现</strong>（etcd）；</p>
</li>
<li class="lvl-2">
<p><strong>底层存储引擎</strong>（RocksDB 被 Kafka、Flink 等使用）。</p>
</li>
</ul>
</blockquote>
<p><strong>局限和不足</strong></p>
<blockquote>
<ul class="lvl-1">
<li class="lvl-2">
<p>不支持复杂查询（无 WHERE、JOIN）；</p>
</li>
<li class="lvl-2">
<p>无法按 Value 内容检索（除非额外建索引）；</p>
</li>
<li class="lvl-2">
<p>通常不保证强一致性（除 etcd 等协调类 KV）。</p>
</li>
</ul>
</blockquote>
<h3 id="Redis">Redis</h3>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>特点</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">内存存储，支持 String/List/Hash/Set/ZSet/Stream；</li>
<li class="lvl-4">持久化（RDB/AOF）、主从、Cluster；</li>
<li class="lvl-4">低延迟（微秒级）。</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>使用场景</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">缓存（热点数据）；</li>
<li class="lvl-4">分布式锁、会话存储、排行榜、消息队列（轻量）。</li>
</ul>
</li>
</ul>
<h3 id="Memcached">Memcached</h3>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>特点</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">纯 KV，无数据结构；</li>
<li class="lvl-4">多线程、高性能，但无持久化、无高可用。</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>使用场景</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">简单缓存（如页面缓存）；</li>
<li class="lvl-4">作为 Redis 的补充（极简场景）。</li>
</ul>
</li>
</ul>
<h3 id="RocksDB">RocksDB</h3>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>特点</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">嵌入式、LSM-Tree 存储引擎；</li>
<li class="lvl-4">高写入吞吐，用于底层存储。</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>使用场景</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">作为 Kafka、Flink、TiDB、Cassandra 等系统的存储引擎；</li>
<li class="lvl-4">自研数据库的底层组件。</li>
</ul>
</li>
</ul>
<h3 id="DynamoDB（AWS）">DynamoDB（AWS）</h3>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>特点</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">托管服务，自动扩缩容；</li>
<li class="lvl-4">支持文档和键值，强一致性可选；</li>
<li class="lvl-4">按请求计费。</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>使用场景</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">Serverless 应用后端；</li>
<li class="lvl-4">高可用、免运维的云原生应用。</li>
</ul>
</li>
</ul>
<h3 id="Etcd">Etcd</h3>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>特点</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">基于 Raft 的分布式 KV；</li>
<li class="lvl-4">强一致性、Watch 机制；</li>
<li class="lvl-4">K8s 的核心组件。</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>使用场景</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">分布式系统配置中心；</li>
<li class="lvl-4">服务发现、Leader Election。</li>
</ul>
</li>
</ul>
<h3 id="全面比较-3">全面比较</h3>
<table>
<thead>
<tr>
<th>数据库</th>
<th>存储位置</th>
<th>数据结构</th>
<th>持久化</th>
<th>高可用</th>
<th>典型优势</th>
<th>主要局限</th>
<th>适用场景</th>
</tr>
</thead>
<tbody>
<tr>
<td>Redis</td>
<td>内存（可持久化）</td>
<td>String/List/Hash<br />Set/ZSet/Stream</td>
<td>支持（RDB/AOF）</td>
<td>Sentinel / Cluster</td>
<td>丰富数据结构、低延迟（μs）</td>
<td>内存成本高，大 Key 风险</td>
<td>缓存、会话、排行榜、轻量队列</td>
</tr>
<tr>
<td>Memcached</td>
<td>内存</td>
<td>纯 KV</td>
<td>不支持</td>
<td>无（客户端分片）</td>
<td>多线程、极高并发</td>
<td>无持久化、无高可用、功能单一</td>
<td>简单缓存（页面/会话）</td>
</tr>
<tr>
<td>RocksDB</td>
<td>磁盘（嵌入式）</td>
<td>KV（LSM-Tree）</td>
<td>支持</td>
<td>无（依赖上层）</td>
<td>高写入吞吐、低资源占用</td>
<td>非独立服务，需集成</td>
<td>作为 Kafka/Flink/TiDB 底层引擎</td>
</tr>
<tr>
<td>DynamoDB</td>
<td>云托管</td>
<td>KV + 文档</td>
<td>支持</td>
<td>自动多 AZ</td>
<td>免运维、自动扩缩容、按需计费</td>
<td>云绑定、调试困难</td>
<td>Serverless 应用、云原生后端</td>
</tr>
<tr>
<td>etcd</td>
<td>磁盘</td>
<td>KV</td>
<td>支持（WAL + Snapshot）</td>
<td>Raft 多副本</td>
<td>强一致、Watch 机制、K8s 核心</td>
<td>不适合大 Value、吞吐有限</td>
<td>分布式协调、配置中心、服务发现</td>
</tr>
</tbody>
</table>
<h2 id="文档数据库（NoSQL）">文档数据库（NoSQL）</h2>
<ul class="lvl-0">
<li class="lvl-2">
<p>以 <strong>JSON/BSON 文档</strong> 为基本单元，支持嵌套结构；</p>
</li>
<li class="lvl-2">
<p><strong>无固定 Schema</strong>，字段可动态增减；</p>
</li>
<li class="lvl-2">
<p>每个文档自带完整上下文，减少 JOIN；</p>
</li>
<li class="lvl-2">
<p>通常按 <strong>文档 ID 哈希分片</strong>，支持水平扩展。</p>
</li>
</ul>
<p><strong>典型使用场景</strong></p>
<blockquote>
<ul class="lvl-1">
<li class="lvl-2">
<p><strong>内容管理系统（CMS）</strong>（文章、商品详情）；</p>
</li>
<li class="lvl-2">
<p><strong>用户画像</strong>（每个用户一个文档，属性动态）；</p>
</li>
<li class="lvl-2">
<p><strong>IoT 设备数据</strong>（设备上报 JSON，结构不一）；</p>
</li>
<li class="lvl-2">
<p><strong>快速迭代的互联网产品</strong>（避免频繁改表）；</p>
</li>
<li class="lvl-2">
<p><strong>移动端离线同步</strong>（CouchDB 的多主复制）。</p>
</li>
</ul>
</blockquote>
<p><strong>局限和不足</strong></p>
<blockquote>
<ul class="lvl-1">
<li class="lvl-2">
<p>复杂跨文档 JOIN 困难（需应用层处理）；</p>
</li>
<li class="lvl-2">
<p>事务支持有限（MongoDB 4.0+ 支持，但性能有损）；</p>
</li>
<li class="lvl-2">
<p>存储空间通常大于关系型（冗余字段）。</p>
</li>
</ul>
</blockquote>
<h3 id="MongoDB">MongoDB</h3>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>特点</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">BSON 文档模型，灵活 Schema；</li>
<li class="lvl-4">支持聚合管道、索引、事务（4.0+）；</li>
<li class="lvl-4">分片集群支持水平扩展。</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>使用场景</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">内容管理（CMS）、用户画像；</li>
<li class="lvl-4">IoT 设备数据存储；</li>
<li class="lvl-4">快速迭代的互联网产品（避免频繁改表）。</li>
</ul>
</li>
</ul>
<h3 id="CouchDB">CouchDB</h3>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>特点</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">HTTP/RESTful API；</li>
<li class="lvl-4">多主同步（Multi-Master Replication）；</li>
<li class="lvl-4">离线优先。</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>使用场景</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">移动端/边缘设备数据同步（如医疗、野外作业）；</li>
<li class="lvl-4">分布式协作系统。</li>
</ul>
</li>
</ul>
<h3 id="Couchbase">Couchbase</h3>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>特点</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">文档 + KV + SQL++ 查询；</li>
<li class="lvl-4">内存优先架构，低延迟；</li>
<li class="lvl-4">企业级安全与监控。</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>使用场景</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">高并发 Web 应用（如游戏、社交）；</li>
<li class="lvl-4">会话存储、实时推荐系统。</li>
</ul>
</li>
</ul>
<h3 id="Elasticsearch（搜索引擎）">Elasticsearch（搜索引擎）</h3>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>特点</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">倒排索引 + 全文检索；</li>
<li class="lvl-4">实时聚合、近实时写入；</li>
<li class="lvl-4">分布式原生支持。</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>使用场景</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">商品/文章搜索；</li>
<li class="lvl-4">日志分析（ELK）；</li>
<li class="lvl-4">监控告警、用户行为分析。</li>
</ul>
</li>
</ul>
<h3 id="全面比较-4">全面比较</h3>
<table>
<thead>
<tr>
<th>数据库</th>
<th>文档格式</th>
<th>事务支持</th>
<th>查询能力</th>
<th>同步能力</th>
<th>典型优势</th>
<th>主要局限</th>
<th>适用场景</th>
</tr>
</thead>
<tbody>
<tr>
<td>MongoDB</td>
<td>BSON</td>
<td>支持（4.0+ 多文档）</td>
<td>聚合管道、索引、文本搜索</td>
<td>副本集 + 分片</td>
<td>生态最强、工具链完善</td>
<td>事务性能有损，存储膨胀</td>
<td>用户画像、CMS、IoT 设备数据</td>
</tr>
<tr>
<td>CouchDB</td>
<td>JSON</td>
<td>不支持</td>
<td>MapReduce、Mango Query</td>
<td>多主双向同步</td>
<td>离线优先、HTTP API</td>
<td>查询能力弱，社区小</td>
<td>移动端离线应用、边缘计算</td>
</tr>
<tr>
<td>Couchbase</td>
<td>JSON</td>
<td>支持（部分）</td>
<td>N1QL（类 SQL）、全文搜索</td>
<td>XDCR（跨集群复制）</td>
<td>低延迟、企业级功能全</td>
<td>商业版贵，开源版功能有限</td>
<td>游戏后端、实时推荐、会话存储</td>
</tr>
<tr>
<td>Elasticsearch</td>
<td>JSON</td>
<td>不支持</td>
<td>全文检索、聚合、向量搜索</td>
<td>分片副本自动同步</td>
<td>搜索性能极强、近实时</td>
<td>不适合主库，更新成本高</td>
<td>商品搜索、日志分析（ELK）、监控</td>
</tr>
</tbody>
</table>
<h2 id="列式数据库（OLAP）">列式数据库（OLAP）</h2>
<p>OLAP（OnLine Analytical Processing ）为联机分析处理。是数据仓库系统的主要应用，能够支持复杂的分析操作，与数据库需要直接直接线上业务不同，数据仓库侧重于分析决策，提供直观的数据查询结果。</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>数据按 <strong>列连续存储</strong>（而非按行），适合只读少数列的聚合查询；</p>
</li>
<li class="lvl-2">
<p>利用 <strong>向量化执行</strong>、<strong>数据压缩</strong>（同列数据相似度高）提升性能；</p>
</li>
<li class="lvl-2">
<p>通常采用 <strong>MPP（大规模并行处理）</strong> 架构；</p>
</li>
<li class="lvl-2">
<p>不支持高并发点查或事务。</p>
</li>
</ul>
<p><strong>典型使用场景</strong></p>
<blockquote>
<ul class="lvl-1">
<li class="lvl-2">
<p><strong>实时数仓</strong>（替代 Hive + Spark）；</p>
</li>
<li class="lvl-2">
<p><strong>用户行为分析</strong>（PV/UV、漏斗、留存）；</p>
</li>
<li class="lvl-2">
<p><strong>BI 报表、Dashboard</strong>（秒级响应亿级数据）；</p>
</li>
<li class="lvl-2">
<p><strong>广告效果分析、风控指标计算</strong>。</p>
</li>
</ul>
</blockquote>
<p><strong>局限和不足</strong></p>
<blockquote>
<ul class="lvl-1">
<li class="lvl-2">
<p>写入吞吐较低（需合并段文件）；</p>
</li>
<li class="lvl-2">
<p>不适合频繁更新或点查；</p>
</li>
<li class="lvl-2">
<p>无法作为业务主库（OLTP）。</p>
</li>
</ul>
</blockquote>
<h3 id="ClickHouse">ClickHouse</h3>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>特点</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">向量化执行、极致压缩；</li>
<li class="lvl-4">高吞吐（十亿级数据秒级响应）；</li>
<li class="lvl-4">不支持事务、更新成本高。</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>使用场景</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">用户行为分析、广告效果分析；</li>
<li class="lvl-4">实时报表、BI 看板。</li>
</ul>
</li>
</ul>
<h3 id="Doris-StarRocks">Doris / StarRocks</h3>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>特点</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">MPP 架构，支持高并发点查 + 复杂聚合；</li>
<li class="lvl-4">实时更新（Primary Key 模型）；</li>
<li class="lvl-4">兼容 MySQL 协议。</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>使用场景</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">实时数仓（替代 Hive + Spark）；</li>
<li class="lvl-4">多维分析（如 GMV、DAU 实时看板）。</li>
</ul>
</li>
</ul>
<h3 id="Druid">Druid</h3>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>特点</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">流批一体，低延迟摄入；</li>
<li class="lvl-4">高并发查询（数千 QPS）；</li>
<li class="lvl-4">时间分区 + 列式存储。</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>使用场景</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">实时监控（如 APM、IoT 指标）；</li>
<li class="lvl-4">用户行为漏斗分析。</li>
</ul>
</li>
</ul>
<h3 id="全面比较-5">全面比较</h3>
<table>
<thead>
<tr>
<th>数据库</th>
<th>架构</th>
<th>实时写入</th>
<th>高并发点查</th>
<th>SQL 支持</th>
<th>典型优势</th>
<th>主要局限</th>
<th>适用场景</th>
</tr>
</thead>
<tbody>
<tr>
<td>ClickHouse</td>
<td>MPP</td>
<td>高频追加</td>
<td>低并发</td>
<td>类 SQL</td>
<td>极致分析性能、高压缩</td>
<td>不支持事务，更新困难</td>
<td>用户行为分析、广告报表</td>
</tr>
<tr>
<td>StarRocks</td>
<td>MPP</td>
<td>Primary Key 模型</td>
<td>可</td>
<td>MySQL 协议</td>
<td>实时更新 + 高并发 + 复杂聚合</td>
<td>运维较新，社区成长中</td>
<td>实时数仓、BI 看板</td>
</tr>
<tr>
<td>Doris</td>
<td>MPP</td>
<td>支持</td>
<td>可</td>
<td>MySQL 协议</td>
<td>开源、易用、兼容 StarRocks</td>
<td>功能略少于 StarRocks</td>
<td>中小企业实时分析</td>
</tr>
<tr>
<td>Druid</td>
<td>Lambda</td>
<td>流批一体</td>
<td>高并发</td>
<td>Druid SQL</td>
<td>低延迟摄入、高 QPS 查询</td>
<td>架构复杂，运维成本高</td>
<td>实时监控、漏斗分析</td>
</tr>
</tbody>
</table>
<h2 id="宽表数据库（Wide-Column）">宽表数据库（Wide-Column）</h2>
<ul class="lvl-0">
<li class="lvl-2">
<p>逻辑上是 <strong>“行 + 动态列族”</strong> 模型（如 HBase 的 RowKey + ColumnFamily:Qualifier）；</p>
</li>
<li class="lvl-2">
<p>物理存储接近 <strong>稀疏矩阵</strong>，适合海量稀疏数据；</p>
</li>
<li class="lvl-2">
<p>通常基于 <strong>LSM-Tree</strong>，写入性能极高；</p>
</li>
<li class="lvl-2">
<p>强调 <strong>高可用 + 高写入吞吐</strong>，一致性模型可调（CP 或 AP）。</p>
</li>
</ul>
<p><strong>典型使用场景</strong></p>
<blockquote>
<ul class="lvl-1">
<li class="lvl-2">
<p><strong>消息历史、聊天记录</strong>（按用户 ID 查询所有消息）；</p>
</li>
<li class="lvl-2">
<p><strong>时序数据存储</strong>（传感器、监控指标）；</p>
</li>
<li class="lvl-2">
<p><strong>推荐系统特征宽表</strong>（每个用户一行，千级特征列）；</p>
</li>
<li class="lvl-2">
<p><strong>大数据平台底层存储</strong>（HBase + Hadoop 生态）。</p>
</li>
</ul>
</blockquote>
<p><strong>局限和不足</strong></p>
<blockquote>
<ul class="lvl-1">
<li class="lvl-2">
<p>查询只能基于 RowKey，二级索引需额外维护；</p>
</li>
<li class="lvl-2">
<p>不支持复杂查询或 JOIN；</p>
</li>
<li class="lvl-2">
<p>读取整行效率低（若列很多）。</p>
</li>
</ul>
</blockquote>
<h3 id="Cassandra">Cassandra</h3>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>特点</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">AP 系统，无单点故障；</li>
<li class="lvl-4">高写入吞吐，最终一致性；</li>
<li class="lvl-4">CQL 类似 SQL。</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>使用场景</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">消息推送、聊天记录；</li>
<li class="lvl-4">时序数据（如传感器日志）；</li>
<li class="lvl-4">高可用写入场景（如 IoT）。</li>
</ul>
</li>
</ul>
<h3 id="HBase">HBase</h3>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>特点</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">CP 系统，强一致性；</li>
<li class="lvl-4">依赖 HDFS，适合海量存储；</li>
<li class="lvl-4">随机读写性能一般。</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>使用场景</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">大数据平台底层存储（如 Hadoop 生态）；</li>
<li class="lvl-4">历史数据归档、用户画像宽表。</li>
</ul>
</li>
</ul>
<h3 id="ScyllaDB">ScyllaDB</h3>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>特点</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">C++ 重写 Cassandra，低延迟（微秒级）；</li>
<li class="lvl-4">兼容 Cassandra 协议；</li>
<li class="lvl-4">更高吞吐、更低资源消耗。</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>使用场景</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">对延迟敏感的 Cassandra 替代方案；</li>
<li class="lvl-4">金融、电信等高性能场景。</li>
</ul>
</li>
</ul>
<h3 id="全面比较-6">全面比较</h3>
<table>
<thead>
<tr>
<th>数据库</th>
<th>一致性</th>
<th>写入性能</th>
<th>查询模型</th>
<th>典型优势</th>
<th>主要局限</th>
<th>适用场景</th>
</tr>
</thead>
<tbody>
<tr>
<td>Cassandra</td>
<td>最终一致（可调）</td>
<td>很高</td>
<td>CQL（仅 RowKey）</td>
<td>无单点、高写入、多 DC</td>
<td>读性能一般，JOIN 不支持</td>
<td>消息历史、IoT 写入</td>
</tr>
<tr>
<td>HBase</td>
<td>强一致</td>
<td>高</td>
<td>Scan / Get（RowKey）</td>
<td>Hadoop 生态集成</td>
<td>依赖 ZooKeeper/HDFS，运维重</td>
<td>大数据平台底层存储</td>
</tr>
<tr>
<td>ScyllaDB</td>
<td>最终一致</td>
<td>很高</td>
<td>兼容 CQL</td>
<td>低延迟（μs）、高吞吐</td>
<td>社区较小，商业支持为主</td>
<td>高性能 Cassandra 替代</td>
</tr>
</tbody>
</table>
<h2 id="时序数据库（TSDB）">时序数据库（TSDB）</h2>
<ul class="lvl-0">
<li class="lvl-2">
<p>专为 <strong>时间戳 + 指标值</strong> 数据优化；</p>
</li>
<li class="lvl-2">
<p>数据按 <strong>时间分区 + 列式压缩</strong>；</p>
</li>
<li class="lvl-2">
<p>支持 <strong>降采样、连续查询、窗口函数</strong>；</p>
</li>
<li class="lvl-2">
<p>写入模型为 <strong>追加写（Append-only）</strong>，极少更新。</p>
</li>
</ul>
<p><strong>典型使用场景</strong></p>
<blockquote>
<ul class="lvl-1">
<li class="lvl-2">
<p><strong>服务器/应用监控</strong>（CPU、内存、QPS）；</p>
</li>
<li class="lvl-2">
<p><strong>IoT 设备指标采集</strong>（温度、位置、电量）；</p>
</li>
<li class="lvl-2">
<p><strong>金融行情数据</strong>（股票价格、交易量）；</p>
</li>
<li class="lvl-2">
<p><strong>APM（应用性能监控）</strong>。</p>
</li>
</ul>
</blockquote>
<p><strong>局限和不足</strong></p>
<blockquote>
<ul class="lvl-1">
<li class="lvl-2">
<p>不适合非时序业务数据；</p>
</li>
<li class="lvl-2">
<p>通用性弱，无法替代关系型或文档库；</p>
</li>
<li class="lvl-2">
<p>部分 TSDB 不支持复杂标签查询。</p>
</li>
</ul>
</blockquote>
<h3 id="InfluxDB">InfluxDB</h3>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>特点</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">专用时序数据模型（measurement, tag, field）；</li>
<li class="lvl-4">Flux 查询语言；</li>
<li class="lvl-4">云托管（InfluxDB Cloud）。</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>使用场景</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">DevOps 监控、IoT 设备指标；</li>
<li class="lvl-4">自定义指标采集与告警。</li>
</ul>
</li>
</ul>
<h3 id="Prometheus">Prometheus</h3>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>特点</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">Pull 模型，服务发现；</li>
<li class="lvl-4">PromQL 强大；</li>
<li class="lvl-4">生态丰富（Alertmanager, Grafana）。</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>使用场景</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">K8s 监控、微服务指标；</li>
<li class="lvl-4">云原生监控标准。</li>
</ul>
</li>
</ul>
<h3 id="TDengine">TDengine</h3>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>特点</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">国产，高性能（10x InfluxDB）；</li>
<li class="lvl-4">一个设备一张表，自动分片；</li>
<li class="lvl-4">支持 SQL。</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>使用场景</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">工业 IoT、车联网；</li>
<li class="lvl-4">高密度时序数据写入（如百万设备）。</li>
</ul>
</li>
</ul>
<h3 id="TimescaleDB">TimescaleDB</h3>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>特点</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">基于 PostgreSQL，完全兼容 SQL；</li>
<li class="lvl-4">支持关系表 + 时序表 JOIN；</li>
<li class="lvl-4">支持连续聚合。</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>使用场景</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">已有 PostgreSQL 生态的团队；</li>
<li class="lvl-4">需要时序 + 业务数据联合分析（如订单 + 监控）。</li>
</ul>
</li>
</ul>
<h3 id="全面比较-7">全面比较</h3>
<table>
<thead>
<tr>
<th>数据库</th>
<th>数据模型</th>
<th>写入性能</th>
<th>查询语言</th>
<th>特色功能</th>
<th>适用场景</th>
</tr>
</thead>
<tbody>
<tr>
<td>InfluxDB</td>
<td>measurement, tag, field</td>
<td>高</td>
<td>Flux / InfluxQL</td>
<td>连续查询、降采样</td>
<td>DevOps 监控、IoT 指标</td>
</tr>
<tr>
<td>Prometheus</td>
<td>metric + labels</td>
<td>中高</td>
<td>PromQL</td>
<td>服务发现、Alertmanager</td>
<td>K8s 监控、微服务指标</td>
</tr>
<tr>
<td>TDengine</td>
<td>超表（每个设备一张子表）</td>
<td>很高</td>
<td>类 SQL</td>
<td>高压缩、自动分片</td>
<td>工业 IoT、车联网</td>
</tr>
<tr>
<td>TimescaleDB</td>
<td>关系表 + 时序超表</td>
<td>高</td>
<td>标准 SQL</td>
<td>与 PG 生态无缝集成</td>
<td>已有 PostgreSQL 的团队，需时序+业务联合分析</td>
</tr>
</tbody>
</table>
<h2 id="图数据库">图数据库</h2>
<ul class="lvl-0">
<li class="lvl-2">
<p>以 <strong>节点（Vertex） + 边（Edge） + 属性</strong> 为核心模型；</p>
</li>
<li class="lvl-2">
<p>使用 <strong>原生图存储</strong>（邻接表）或 <strong>索引优化</strong>；</p>
</li>
<li class="lvl-2">
<p>查询语言如 <strong>Cypher、Gremlin</strong>，支持 <strong>深度遍历</strong>（如“6度人脉”）；</p>
</li>
<li class="lvl-2">
<p>遍历性能远超关系型数据库（JOIN 多层效率极低）。</p>
</li>
</ul>
<p><strong>典型使用场景</strong></p>
<blockquote>
<ul class="lvl-1">
<li class="lvl-2">
<p><strong>社交网络关系</strong>（好友推荐、影响力分析）；</p>
</li>
<li class="lvl-2">
<p><strong>欺诈检测</strong>（识别异常资金环路）；</p>
</li>
<li class="lvl-2">
<p><strong>知识图谱</strong>（实体关系推理）；</p>
</li>
<li class="lvl-2">
<p><strong>供应链、物流路径优化</strong>；</p>
</li>
<li class="lvl-2">
<p><strong>反洗钱（AML）</strong>、<strong>风控网络</strong>。</p>
</li>
</ul>
</blockquote>
<p><strong>局限和不足</strong></p>
<blockquote>
<ul class="lvl-1">
<li class="lvl-2">
<p>不适合简单 CRUD 或聚合分析；</p>
</li>
<li class="lvl-2">
<p>大规模图的存储和计算成本高；</p>
</li>
<li class="lvl-2">
<p>生态和工具链不如关系型成熟。</p>
</li>
</ul>
</blockquote>
<h3 id="Neo4j">Neo4j</h3>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>特点</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">原生图存储，Cypher 查询语言；</li>
<li class="lvl-4">单机性能强，集群版需企业许可；</li>
<li class="lvl-4">可视化工具优秀。</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>使用场景</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">社交关系、欺诈检测；</li>
<li class="lvl-4">知识图谱、推荐系统（“好友的好友”）。</li>
</ul>
</li>
</ul>
<h3 id="JanusGraph">JanusGraph</h3>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>特点</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">开源，依赖 HBase/Cassandra + Elasticsearch；</li>
<li class="lvl-4">支持 Gremlin 查询；</li>
<li class="lvl-4">可扩展性强。</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>使用场景</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">超大规模图（百亿边）；</li>
<li class="lvl-4">与 Hadoop 生态集成的大数据图分析。</li>
</ul>
</li>
</ul>
<h3 id="Dgraph-NebulaGraph">Dgraph / NebulaGraph</h3>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>特点</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">原生分布式，支持 GraphQL± / nGQL；</li>
<li class="lvl-4">高性能、水平扩展；</li>
<li class="lvl-4">开源 + 云服务。</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>使用场景</strong>：</p>
<ul class="lvl-2">
<li class="lvl-4">实时图查询（如风控、反洗钱）；</li>
<li class="lvl-4">互联网级图应用（如社交网络）。</li>
</ul>
</li>
</ul>
<h3 id="全面比较-8">全面比较</h3>
<table>
<thead>
<tr>
<th>数据库</th>
<th>存储模型</th>
<th>查询语言</th>
<th>分布式</th>
<th>典型优势</th>
<th>适用场景</th>
</tr>
</thead>
<tbody>
<tr>
<td>Neo4j</td>
<td>原生图（单机强）</td>
<td>Cypher</td>
<td>企业版支持</td>
<td>可视化好、生态成熟</td>
<td>社交关系、知识图谱（中小规模）</td>
</tr>
<tr>
<td>NebulaGraph</td>
<td>原生分布式图</td>
<td>nGQL</td>
<td>支持</td>
<td>高性能、开源、云原生</td>
<td>互联网级图应用（风控、推荐）</td>
</tr>
<tr>
<td>JanusGraph</td>
<td>基于 HBase/Cassandra</td>
<td>Gremlin</td>
<td>支持</td>
<td>与大数据生态集成</td>
<td>超大规模图（百亿边）</td>
</tr>
<tr>
<td>Dgraph</td>
<td>原生分布式</td>
<td>GraphQL±</td>
<td>支持</td>
<td>低延迟、易用</td>
<td>实时图查询、SaaS 应用</td>
</tr>
</tbody>
</table>
<h2 id="DB-选型建议">DB 选型建议</h2>
<p>最好的数据库，是<strong>团队能驾驭、业务能受益、未来能演进</strong>。</p>
<img src= "/img/20241215205335173426721579192.webp" data-lazy-src="/imgs/other/image-20251028205202423.png" alt="image-20251028205202423" style="zoom:50%;" />
<h3 id="选型流程">选型流程</h3>
<p>选型执行流程（6 步法）</p>
<img src= "/img/20241215205335173426721579192.webp" data-lazy-src="/imgs/other/image-20251028205447744.png" alt="image-20251028205447744" style="zoom:50%;" />
<ol>
<li class="lvl-3">
<p><strong>PoC（概念验证）</strong></p>
<ul class="lvl-2">
<li class="lvl-5">模拟真实流量压测（写入/查询/故障恢复）</li>
<li class="lvl-5">测试备份恢复流程（如 <code>pg_dump</code> vs <code>mongodump</code>）</li>
</ul>
</li>
<li class="lvl-3">
<p><strong>监控与可观测性验证</strong></p>
<ul class="lvl-2">
<li class="lvl-5">是否支持 Prometheus/Grafana？</li>
<li class="lvl-5">能否看到慢查询、连接池、磁盘 IO？</li>
</ul>
</li>
<li class="lvl-3">
<p><strong>灾难恢复演练</strong></p>
<ul class="lvl-2">
<li class="lvl-5">模拟节点宕机，观察自动 failover 时间</li>
<li class="lvl-5">验证跨 AZ/Region 容灾能力</li>
</ul>
</li>
</ol>
<h3 id="技术vs成本">技术vs成本</h3>
<p><strong>不要只看技术指标，更要评估“全生命周期成本”</strong></p>
<table>
<thead>
<tr>
<th>维度</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>学习成本</td>
<td>团队是否熟悉？是否有成熟开发/ORM 支持？（如用 Cassandra 但团队只会 SQL，风险极高）</td>
</tr>
<tr>
<td>运维成本</td>
<td>是否需要专职 DBA？监控、备份、扩缩容是否自动化？（如 HBase 运维复杂度远高于 Redis）</td>
</tr>
<tr>
<td>人力成本</td>
<td>招聘难度？社区活跃度？（如 Oracle DBA 贵且少，PostgreSQL 人才更易得）</td>
</tr>
<tr>
<td>迁移成本</td>
<td>未来能否平滑迁移到其他系统？数据导出是否方便？（避免被云厂商锁定）</td>
</tr>
</tbody>
</table>
<blockquote>
<p>在 PoC（概念验证）阶段，<strong>让开发和运维共同参与评估</strong>，而不仅是架构师拍板。</p>
</blockquote>
<table>
<thead>
<tr>
<th>成本类型</th>
<th>自建</th>
<th>云托管</th>
</tr>
</thead>
<tbody>
<tr>
<td>硬件成本</td>
<td>服务器、存储、网络</td>
<td>按需付费（CPU/内存/存储/IOPS）</td>
</tr>
<tr>
<td>人力成本</td>
<td>DBA + 运维 + 开发适配</td>
<td>接近 0（但需云平台技能）</td>
</tr>
<tr>
<td>许可成本</td>
<td>开源免费 or 商业授权（Oracle）</td>
<td>按小时/请求计费</td>
</tr>
<tr>
<td>隐性成本</td>
<td>故障损失、迁移成本、学习曲线</td>
<td>厂商锁定、调试黑盒</td>
</tr>
</tbody>
</table>
<h3 id="分层存储">分层存储</h3>
<p>根据系统性质决定<strong>分层存储 + 多数据库协同</strong></p>
<img src= "/img/20241215205335173426721579192.webp" data-lazy-src="/imgs/other/image-20251028182837144.png" alt="image-20251028182837144" style="zoom:50%;" />
<blockquote>
<ul class="lvl-1">
<li class="lvl-2">
<p><strong>主库</strong>：强一致、事务 → 关系型/NewSQL</p>
</li>
<li class="lvl-2">
<p><strong>缓存</strong>：低延迟 → Redis</p>
</li>
<li class="lvl-2">
<p><strong>搜索</strong>：全文检索 → Elasticsearch</p>
</li>
<li class="lvl-2">
<p><strong>分析</strong>：聚合查询 → 列式数据库</p>
</li>
<li class="lvl-2">
<p><strong>日志/指标</strong>：时序写入 → Prometheus/TDengine</p>
</li>
</ul>
</blockquote>
<p><strong>优先考虑“生态兼容性”，而非单纯性能</strong></p>
<table>
<thead>
<tr>
<th>场景</th>
<th>推荐选择</th>
</tr>
</thead>
<tbody>
<tr>
<td>团队已用 Spring Boot + JPA</td>
<td>→ PostgreSQL / MySQL（而非 MongoDB）</td>
</tr>
<tr>
<td>已有 Hadoop 大数据平台</td>
<td>→ HBase / Hive（而非 ClickHouse）</td>
</tr>
<tr>
<td>全栈 TypeScript + Firebase</td>
<td>→ Firestore（而非自建 CouchDB）</td>
</tr>
<tr>
<td>云上 AWS 环境</td>
<td>→ Aurora / DynamoDB（而非自建 TiDB）</td>
</tr>
</tbody>
</table>
<p><strong>明确“数据 SLA”：一致性、延迟、持久性、可用性</strong></p>
<p>使用 <strong>CAP / PACELC 模型</strong> 明确需求：</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>银行转账 → <strong>CP（强一致）</strong> → 选 PostgreSQL / TiDB</p>
</li>
<li class="lvl-2">
<p>社交点赞 → <strong>AP（高可用）</strong> → 选 Cassandra / DynamoDB</p>
</li>
<li class="lvl-2">
<p>监控告警 → <strong>低延迟 + 高写入</strong> → 选 TDengine / InfluxDB</p>
</li>
</ul>
<blockquote>
<ul class="lvl-1">
<li class="lvl-2">
<p>能容忍多少秒的数据延迟？</p>
</li>
<li class="lvl-2">
<p>数据丢失是否可接受？（如日志可丢，订单不可丢）</p>
</li>
<li class="lvl-2">
<p>系统宕机时，优先保可用还是保一致？</p>
</li>
</ul>
</blockquote>
<h3 id="特性比较">特性比较</h3>
<p>根据需求特性和技术特性选择，以符合业务所需。</p>
<img src= "/img/20241215205335173426721579192.webp" data-lazy-src="data:image/svg+xml;utf8,<svg id%3D%22mermaid-7fe7002e-7439-4bee-b567-51dccded8d04%22 width%3D%22100%%22 xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 style%3D%22max-width%3A 2022.1385498046875px%3B%22 viewBox%3D%22-8 -8 2022.1385498046875 2685.0166015625%22 role%3D%22graphics-document document%22 aria-roledescription%3D%22flowchart-v2%22><style>%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04{font-family%3A%22trebuchet ms%22%2Cverdana%2Carial%2Csans-serif%3Bfont-size%3A16px%3Bfill%3A%23333%3B}%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04 .error-icon{fill%3A%23552222%3B}%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04 .error-text{fill%3A%23552222%3Bstroke%3A%23552222%3B}%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04 .edge-thickness-normal{stroke-width%3A2px%3B}%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04 .edge-thickness-thick{stroke-width%3A3.5px%3B}%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04 .edge-pattern-solid{stroke-dasharray%3A0%3B}%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04 .edge-pattern-dashed{stroke-dasharray%3A3%3B}%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04 .edge-pattern-dotted{stroke-dasharray%3A2%3B}%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04 .marker{fill%3A%23333333%3Bstroke%3A%23333333%3B}%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04 .marker.cross{stroke%3A%23333333%3B}%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04 svg{font-family%3A%22trebuchet ms%22%2Cverdana%2Carial%2Csans-serif%3Bfont-size%3A16px%3B}%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04 .label{font-family%3A%22trebuchet ms%22%2Cverdana%2Carial%2Csans-serif%3Bcolor%3A%23333%3B}%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04 .cluster-label text{fill%3A%23333%3B}%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04 .cluster-label span%2C%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04 p{color%3A%23333%3B}%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04 .label text%2C%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04 span%2C%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04 p{fill%3A%23333%3Bcolor%3A%23333%3B}%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04 .node rect%2C%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04 .node circle%2C%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04 .node ellipse%2C%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04 .node polygon%2C%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04 .node path{fill%3A%23ECECFF%3Bstroke%3A%239370DB%3Bstroke-width%3A1px%3B}%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04 .flowchart-label text{text-anchor%3Amiddle%3B}%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04 .node .katex path{fill%3A%23000%3Bstroke%3A%23000%3Bstroke-width%3A1px%3B}%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04 .node .label{text-align%3Acenter%3B}%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04 .node.clickable{cursor%3Apointer%3B}%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04 .arrowheadPath{fill%3A%23333333%3B}%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04 .edgePath .path{stroke%3A%23333333%3Bstroke-width%3A2.0px%3B}%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04 .flowchart-link{stroke%3A%23333333%3Bfill%3Anone%3B}%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04 .edgeLabel{background-color%3A%23e8e8e8%3Btext-align%3Acenter%3B}%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04 .edgeLabel rect{opacity%3A0.5%3Bbackground-color%3A%23e8e8e8%3Bfill%3A%23e8e8e8%3B}%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04 .labelBkg{background-color%3Argba(232%2C 232%2C 232%2C 0.5)%3B}%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04 .cluster rect{fill%3A%23ffffde%3Bstroke%3A%23aaaa33%3Bstroke-width%3A1px%3B}%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04 .cluster text{fill%3A%23333%3B}%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04 .cluster span%2C%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04 p{color%3A%23333%3B}%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04 div.mermaidTooltip{position%3Aabsolute%3Btext-align%3Acenter%3Bmax-width%3A200px%3Bpadding%3A2px%3Bfont-family%3A%22trebuchet ms%22%2Cverdana%2Carial%2Csans-serif%3Bfont-size%3A12px%3Bbackground%3Ahsl(80%2C 100%%2C 96.2745098039%)%3Bborder%3A1px solid %23aaaa33%3Bborder-radius%3A2px%3Bpointer-events%3Anone%3Bz-index%3A100%3B}%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04 .flowchartTitleText{text-anchor%3Amiddle%3Bfont-size%3A18px%3Bfill%3A%23333%3B}%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04 %3Aroot{--mermaid-font-family%3A%22trebuchet ms%22%2Cverdana%2Carial%2Csans-serif%3B}<%2Fstyle><g><marker id%3D%22mermaid-7fe7002e-7439-4bee-b567-51dccded8d04_flowchart-pointEnd%22 class%3D%22marker flowchart%22 viewBox%3D%220 0 10 10%22 refX%3D%226%22 refY%3D%225%22 markerUnits%3D%22userSpaceOnUse%22 markerWidth%3D%2212%22 markerHeight%3D%2212%22 orient%3D%22auto%22><path d%3D%22M 0 0 L 10 5 L 0 10 z%22 class%3D%22arrowMarkerPath%22 style%3D%22stroke-width%3A 1%3B stroke-dasharray%3A 1%2C 0%3B%22><%2Fpath><%2Fmarker><marker id%3D%22mermaid-7fe7002e-7439-4bee-b567-51dccded8d04_flowchart-pointStart%22 class%3D%22marker flowchart%22 viewBox%3D%220 0 10 10%22 refX%3D%224.5%22 refY%3D%225%22 markerUnits%3D%22userSpaceOnUse%22 markerWidth%3D%2212%22 markerHeight%3D%2212%22 orient%3D%22auto%22><path d%3D%22M 0 5 L 10 10 L 10 0 z%22 class%3D%22arrowMarkerPath%22 style%3D%22stroke-width%3A 1%3B stroke-dasharray%3A 1%2C 0%3B%22><%2Fpath><%2Fmarker><marker id%3D%22mermaid-7fe7002e-7439-4bee-b567-51dccded8d04_flowchart-circleEnd%22 class%3D%22marker flowchart%22 viewBox%3D%220 0 10 10%22 refX%3D%2211%22 refY%3D%225%22 markerUnits%3D%22userSpaceOnUse%22 markerWidth%3D%2211%22 markerHeight%3D%2211%22 orient%3D%22auto%22><circle cx%3D%225%22 cy%3D%225%22 r%3D%225%22 class%3D%22arrowMarkerPath%22 style%3D%22stroke-width%3A 1%3B stroke-dasharray%3A 1%2C 0%3B%22><%2Fcircle><%2Fmarker><marker id%3D%22mermaid-7fe7002e-7439-4bee-b567-51dccded8d04_flowchart-circleStart%22 class%3D%22marker flowchart%22 viewBox%3D%220 0 10 10%22 refX%3D%22-1%22 refY%3D%225%22 markerUnits%3D%22userSpaceOnUse%22 markerWidth%3D%2211%22 markerHeight%3D%2211%22 orient%3D%22auto%22><circle cx%3D%225%22 cy%3D%225%22 r%3D%225%22 class%3D%22arrowMarkerPath%22 style%3D%22stroke-width%3A 1%3B stroke-dasharray%3A 1%2C 0%3B%22><%2Fcircle><%2Fmarker><marker id%3D%22mermaid-7fe7002e-7439-4bee-b567-51dccded8d04_flowchart-crossEnd%22 class%3D%22marker cross flowchart%22 viewBox%3D%220 0 11 11%22 refX%3D%2212%22 refY%3D%225.2%22 markerUnits%3D%22userSpaceOnUse%22 markerWidth%3D%2211%22 markerHeight%3D%2211%22 orient%3D%22auto%22><path d%3D%22M 1%2C1 l 9%2C9 M 10%2C1 l -9%2C9%22 class%3D%22arrowMarkerPath%22 style%3D%22stroke-width%3A 2%3B stroke-dasharray%3A 1%2C 0%3B%22><%2Fpath><%2Fmarker><marker id%3D%22mermaid-7fe7002e-7439-4bee-b567-51dccded8d04_flowchart-crossStart%22 class%3D%22marker cross flowchart%22 viewBox%3D%220 0 11 11%22 refX%3D%22-1%22 refY%3D%225.2%22 markerUnits%3D%22userSpaceOnUse%22 markerWidth%3D%2211%22 markerHeight%3D%2211%22 orient%3D%22auto%22><path d%3D%22M 1%2C1 l 9%2C9 M 10%2C1 l -9%2C9%22 class%3D%22arrowMarkerPath%22 style%3D%22stroke-width%3A 2%3B stroke-dasharray%3A 1%2C 0%3B%22><%2Fpath><%2Fmarker><g class%3D%22root%22><g class%3D%22clusters%22><%2Fg><g class%3D%22edgePaths%22><path d%3D%22M1004.995%2C38.987L1004.995%2C43.154C1004.995%2C47.321%2C1004.995%2C55.654%2C1005.061%2C63.188C1005.127%2C70.721%2C1005.259%2C77.455%2C1005.325%2C80.822L1005.391%2C84.188%22 id%3D%22L-A-B-0%22 class%3D%22 edge-thickness-normal edge-pattern-solid flowchart-link LS-A LE-B%22 style%3D%22fill%3Anone%3B%22 marker-end%3D%22url(%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04_flowchart-pointEnd)%22><%2Fpath><path d%3D%22M905.803%2C222.661L770.059%2C245.359C634.316%2C268.056%2C362.829%2C313.451%2C227.086%2C364.81C91.342%2C416.169%2C91.342%2C473.492%2C91.342%2C530.815C91.342%2C588.138%2C91.342%2C645.461%2C91.342%2C704.286C91.342%2C763.111%2C91.342%2C823.438%2C91.342%2C883.765C91.342%2C944.092%2C91.342%2C1004.419%2C91.342%2C1063.911C91.342%2C1123.403%2C91.342%2C1182.059%2C91.342%2C1240.716C91.342%2C1299.373%2C91.342%2C1358.03%2C91.342%2C1413.354C91.342%2C1468.678%2C91.342%2C1520.669%2C91.342%2C1572.66C91.342%2C1624.65%2C91.342%2C1676.641%2C91.342%2C1729.965C91.342%2C1783.289%2C91.342%2C1837.946%2C91.342%2C1892.603C91.342%2C1947.26%2C91.342%2C2001.917%2C91.342%2C2060.538C91.342%2C2119.159%2C91.342%2C2181.744%2C91.342%2C2244.33C91.342%2C2306.915%2C91.342%2C2369.501%2C91.342%2C2406.076C91.342%2C2442.651%2C91.342%2C2453.215%2C91.342%2C2458.497L91.342%2C2463.78%22 id%3D%22L-B-C-0%22 class%3D%22 edge-thickness-normal edge-pattern-solid flowchart-link LS-B LE-C%22 style%3D%22fill%3Anone%3B%22 marker-end%3D%22url(%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04_flowchart-pointEnd)%22><%2Fpath><path d%3D%22M1056.292%2C271.556L1067.532%2C286.104C1078.773%2C300.653%2C1101.254%2C329.75%2C1112.566%2C349.664C1123.878%2C369.578%2C1124.021%2C380.309%2C1124.093%2C385.675L1124.165%2C391.041%22 id%3D%22L-B-D-0%22 class%3D%22 edge-thickness-normal edge-pattern-solid flowchart-link LS-B LE-D%22 style%3D%22fill%3Anone%3B%22 marker-end%3D%22url(%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04_flowchart-pointEnd)%22><%2Fpath><path d%3D%22M1013.267%2C555.322L899.193%2C579.899C785.119%2C604.476%2C556.971%2C653.63%2C442.897%2C708.37C328.823%2C763.111%2C328.823%2C823.438%2C328.823%2C883.765C328.823%2C944.092%2C328.823%2C1004.419%2C328.823%2C1063.911C328.823%2C1123.403%2C328.823%2C1182.059%2C328.823%2C1240.716C328.823%2C1299.373%2C328.823%2C1358.03%2C328.823%2C1413.354C328.823%2C1468.678%2C328.823%2C1520.669%2C328.823%2C1572.66C328.823%2C1624.65%2C328.823%2C1676.641%2C328.823%2C1729.965C328.823%2C1783.289%2C328.823%2C1837.946%2C328.823%2C1892.603C328.823%2C1947.26%2C328.823%2C2001.917%2C328.823%2C2060.538C328.823%2C2119.159%2C328.823%2C2181.744%2C328.823%2C2244.33C328.823%2C2306.915%2C328.823%2C2369.501%2C328.823%2C2410.073C328.823%2C2450.646%2C328.823%2C2469.207%2C328.823%2C2478.487L328.823%2C2487.767%22 id%3D%22L-D-E-0%22 class%3D%22 edge-thickness-normal edge-pattern-solid flowchart-link LS-D LE-E%22 style%3D%22fill%3Anone%3B%22 marker-end%3D%22url(%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04_flowchart-pointEnd)%22><%2Fpath><path d%3D%22M1183.323%2C607.202L1195.709%2C623.132C1208.094%2C639.062%2C1232.865%2C670.923%2C1245.323%2C692.219C1257.78%2C713.515%2C1257.923%2C724.246%2C1257.994%2C729.612L1258.066%2C734.978%22 id%3D%22L-D-F-0%22 class%3D%22 edge-thickness-normal edge-pattern-solid flowchart-link LS-D LE-F%22 style%3D%22fill%3Anone%3B%22 marker-end%3D%22url(%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04_flowchart-pointEnd)%22><%2Fpath><path d%3D%22M1145.098%2C915.214L1053.686%2C940.136C962.274%2C965.058%2C779.45%2C1014.902%2C688.038%2C1069.152C596.626%2C1123.403%2C596.626%2C1182.059%2C596.626%2C1240.716C596.626%2C1299.373%2C596.626%2C1358.03%2C596.626%2C1413.354C596.626%2C1468.678%2C596.626%2C1520.669%2C596.626%2C1572.66C596.626%2C1624.65%2C596.626%2C1676.641%2C596.626%2C1729.965C596.626%2C1783.289%2C596.626%2C1837.946%2C596.626%2C1892.603C596.626%2C1947.26%2C596.626%2C2001.917%2C596.626%2C2060.538C596.626%2C2119.159%2C596.626%2C2181.744%2C596.626%2C2244.33C596.626%2C2306.915%2C596.626%2C2369.501%2C596.626%2C2410.073C596.626%2C2450.646%2C596.626%2C2469.207%2C596.626%2C2478.487L596.626%2C2487.767%22 id%3D%22L-F-G-0%22 class%3D%22 edge-thickness-normal edge-pattern-solid flowchart-link LS-F LE-G%22 style%3D%22fill%3Anone%3B%22 marker-end%3D%22url(%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04_flowchart-pointEnd)%22><%2Fpath><path d%3D%22M1322.144%2C964.244L1335.533%2C980.995C1348.921%2C997.745%2C1375.699%2C1031.245%2C1389.159%2C1053.361C1402.619%2C1075.477%2C1402.762%2C1086.209%2C1402.834%2C1091.574L1402.905%2C1096.94%22 id%3D%22L-F-H-0%22 class%3D%22 edge-thickness-normal edge-pattern-solid flowchart-link LS-F LE-H%22 style%3D%22fill%3Anone%3B%22 marker-end%3D%22url(%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04_flowchart-pointEnd)%22><%2Fpath><path d%3D%22M1299.332%2C1276.55L1230.494%2C1299.906C1161.656%2C1323.262%2C1023.981%2C1369.975%2C955.143%2C1419.326C886.305%2C1468.678%2C886.305%2C1520.669%2C886.305%2C1572.66C886.305%2C1624.65%2C886.305%2C1676.641%2C886.305%2C1729.965C886.305%2C1783.289%2C886.305%2C1837.946%2C886.305%2C1892.603C886.305%2C1947.26%2C886.305%2C2001.917%2C886.305%2C2060.538C886.305%2C2119.159%2C886.305%2C2181.744%2C886.305%2C2244.33C886.305%2C2306.915%2C886.305%2C2369.501%2C886.305%2C2410.073C886.305%2C2450.646%2C886.305%2C2469.207%2C886.305%2C2478.487L886.305%2C2487.767%22 id%3D%22L-H-I-0%22 class%3D%22 edge-thickness-normal edge-pattern-solid flowchart-link LS-H LE-I%22 style%3D%22fill%3Anone%3B%22 marker-end%3D%22url(%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04_flowchart-pointEnd)%22><%2Fpath><path d%3D%22M1464.044%2C1319.125L1476.772%2C1335.385C1489.5%2C1351.645%2C1514.955%2C1384.166%2C1527.754%2C1405.792C1540.554%2C1427.418%2C1540.697%2C1438.15%2C1540.768%2C1443.515L1540.84%2C1448.881%22 id%3D%22L-H-J-0%22 class%3D%22 edge-thickness-normal edge-pattern-solid flowchart-link LS-H LE-J%22 style%3D%22fill%3Anone%3B%22 marker-end%3D%22url(%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04_flowchart-pointEnd)%22><%2Fpath><path d%3D%22M1456.67%2C1607.898L1407.587%2C1628.02C1358.505%2C1648.143%2C1260.339%2C1688.387%2C1211.257%2C1735.838C1162.174%2C1783.289%2C1162.174%2C1837.946%2C1162.174%2C1892.603C1162.174%2C1947.26%2C1162.174%2C2001.917%2C1162.174%2C2060.538C1162.174%2C2119.159%2C1162.174%2C2181.744%2C1162.174%2C2244.33C1162.174%2C2306.915%2C1162.174%2C2369.501%2C1162.174%2C2408.075C1162.174%2C2446.648%2C1162.174%2C2461.211%2C1162.174%2C2468.492L1162.174%2C2475.773%22 id%3D%22L-J-K-0%22 class%3D%22 edge-thickness-normal edge-pattern-solid flowchart-link LS-J LE-K%22 style%3D%22fill%3Anone%3B%22 marker-end%3D%22url(%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04_flowchart-pointEnd)%22><%2Fpath><path d%3D%22M1594.634%2C1638.415L1606.998%2C1653.451C1619.362%2C1668.488%2C1644.091%2C1698.56%2C1656.527%2C1718.962C1668.962%2C1739.364%2C1669.105%2C1750.095%2C1669.177%2C1755.461L1669.249%2C1760.826%22 id%3D%22L-J-L-0%22 class%3D%22 edge-thickness-normal edge-pattern-solid flowchart-link LS-J LE-L%22 style%3D%22fill%3Anone%3B%22 marker-end%3D%22url(%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04_flowchart-pointEnd)%22><%2Fpath><path d%3D%22M1592.658%2C1943.418L1563.713%2C1962.278C1534.769%2C1981.137%2C1476.88%2C2018.855%2C1447.936%2C2069.007C1418.991%2C2119.159%2C1418.991%2C2181.744%2C1418.991%2C2244.33C1418.991%2C2306.915%2C1418.991%2C2369.501%2C1418.991%2C2410.073C1418.991%2C2450.646%2C1418.991%2C2469.207%2C1418.991%2C2478.487L1418.991%2C2487.767%22 id%3D%22L-L-M-0%22 class%3D%22 edge-thickness-normal edge-pattern-solid flowchart-link LS-L LE-M%22 style%3D%22fill%3Anone%3B%22 marker-end%3D%22url(%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04_flowchart-pointEnd)%22><%2Fpath><path d%3D%22M1724.933%2C1964.466L1736.877%2C1979.818C1748.822%2C1995.169%2C1772.711%2C2025.871%2C1784.728%2C2046.588C1796.744%2C2067.305%2C1796.887%2C2078.036%2C1796.959%2C2083.402L1797.03%2C2088.768%22 id%3D%22L-L-N-0%22 class%3D%22 edge-thickness-normal edge-pattern-solid flowchart-link LS-L LE-N%22 style%3D%22fill%3Anone%3B%22 marker-end%3D%22url(%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04_flowchart-pointEnd)%22><%2Fpath><path d%3D%22M1737.708%2C2336.2L1727.182%2C2352.181C1716.657%2C2368.162%2C1695.606%2C2400.124%2C1685.08%2C2425.385C1674.555%2C2450.646%2C1674.555%2C2469.207%2C1674.555%2C2478.487L1674.555%2C2487.767%22 id%3D%22L-N-O-0%22 class%3D%22 edge-thickness-normal edge-pattern-solid flowchart-link LS-N LE-O%22 style%3D%22fill%3Anone%3B%22 marker-end%3D%22url(%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04_flowchart-pointEnd)%22><%2Fpath><path d%3D%22M1856.493%2C2336.2L1866.852%2C2352.181C1877.211%2C2368.162%2C1897.929%2C2400.124%2C1908.288%2C2425.385C1918.647%2C2450.646%2C1918.647%2C2469.207%2C1918.647%2C2478.487L1918.647%2C2487.767%22 id%3D%22L-N-P-0%22 class%3D%22 edge-thickness-normal edge-pattern-solid flowchart-link LS-N LE-P%22 style%3D%22fill%3Anone%3B%22 marker-end%3D%22url(%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04_flowchart-pointEnd)%22><%2Fpath><path d%3D%22M91.342%2C2580.029L91.342%2C2584.196C91.342%2C2588.363%2C91.342%2C2596.696%2C226.029%2C2607.286C360.716%2C2617.877%2C630.089%2C2630.724%2C764.776%2C2637.148L899.462%2C2643.572%22 id%3D%22L-C-Q-0%22 class%3D%22 edge-thickness-normal edge-pattern-solid flowchart-link LS-C LE-Q%22 style%3D%22fill%3Anone%3B%22 marker-end%3D%22url(%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04_flowchart-pointEnd)%22><%2Fpath><path d%3D%22M328.823%2C2556.042L328.823%2C2564.206C328.823%2C2572.371%2C328.823%2C2588.7%2C423.931%2C2602.95C519.038%2C2617.199%2C709.253%2C2629.37%2C804.36%2C2635.455L899.467%2C2641.54%22 id%3D%22L-E-Q-0%22 class%3D%22 edge-thickness-normal edge-pattern-solid flowchart-link LS-E LE-Q%22 style%3D%22fill%3Anone%3B%22 marker-end%3D%22url(%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04_flowchart-pointEnd)%22><%2Fpath><path d%3D%22M596.626%2C2556.042L596.626%2C2564.206C596.626%2C2572.371%2C596.626%2C2588.7%2C647.102%2C2602.117C697.579%2C2615.534%2C798.532%2C2626.038%2C849.008%2C2631.29L899.485%2C2636.542%22 id%3D%22L-G-Q-0%22 class%3D%22 edge-thickness-normal edge-pattern-solid flowchart-link LS-G LE-Q%22 style%3D%22fill%3Anone%3B%22 marker-end%3D%22url(%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04_flowchart-pointEnd)%22><%2Fpath><path d%3D%22M886.305%2C2556.042L886.305%2C2564.206C886.305%2C2572.371%2C886.305%2C2588.7%2C898.381%2C2600.76C910.457%2C2612.82%2C934.61%2C2620.611%2C946.687%2C2624.507L958.763%2C2628.402%22 id%3D%22L-I-Q-0%22 class%3D%22 edge-thickness-normal edge-pattern-solid flowchart-link LS-I LE-Q%22 style%3D%22fill%3Anone%3B%22 marker-end%3D%22url(%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04_flowchart-pointEnd)%22><%2Fpath><path d%3D%22M1162.174%2C2568.036L1162.174%2C2574.201C1162.174%2C2580.367%2C1162.174%2C2592.698%2C1150.098%2C2602.759C1138.021%2C2612.82%2C1113.869%2C2620.611%2C1101.792%2C2624.507L1089.716%2C2628.402%22 id%3D%22L-K-Q-0%22 class%3D%22 edge-thickness-normal edge-pattern-solid flowchart-link LS-K LE-Q%22 style%3D%22fill%3Anone%3B%22 marker-end%3D%22url(%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04_flowchart-pointEnd)%22><%2Fpath><path d%3D%22M1418.991%2C2556.042L1418.991%2C2564.206C1418.991%2C2572.371%2C1418.991%2C2588.7%2C1373.991%2C2601.937C1328.991%2C2615.174%2C1238.99%2C2625.318%2C1193.99%2C2630.39L1148.989%2C2635.462%22 id%3D%22L-M-Q-0%22 class%3D%22 edge-thickness-normal edge-pattern-solid flowchart-link LS-M LE-Q%22 style%3D%22fill%3Anone%3B%22 marker-end%3D%22url(%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04_flowchart-pointEnd)%22><%2Fpath><path d%3D%22M1674.555%2C2556.042L1674.555%2C2564.206C1674.555%2C2572.371%2C1674.555%2C2588.7%2C1586.964%2C2602.858C1499.373%2C2617.015%2C1324.192%2C2629.001%2C1236.601%2C2634.993L1149.01%2C2640.986%22 id%3D%22L-O-Q-0%22 class%3D%22 edge-thickness-normal edge-pattern-solid flowchart-link LS-O LE-Q%22 style%3D%22fill%3Anone%3B%22 marker-end%3D%22url(%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04_flowchart-pointEnd)%22><%2Fpath><path d%3D%22M1918.647%2C2556.042L1918.647%2C2564.206C1918.647%2C2572.371%2C1918.647%2C2588.7%2C1790.375%2C2603.246C1662.103%2C2617.791%2C1405.56%2C2630.554%2C1277.288%2C2636.935L1149.016%2C2643.316%22 id%3D%22L-P-Q-0%22 class%3D%22 edge-thickness-normal edge-pattern-solid flowchart-link LS-P LE-Q%22 style%3D%22fill%3Anone%3B%22 marker-end%3D%22url(%23mermaid-7fe7002e-7439-4bee-b567-51dccded8d04_flowchart-pointEnd)%22><%2Fpath><%2Fg><g class%3D%22edgeLabels%22><g class%3D%22edgeLabel%22><g class%3D%22label%22 transform%3D%22translate(0%2C 0)%22><foreignObject width%3D%220%22 height%3D%220%22><div xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22 style%3D%22display%3A inline-block%3B white-space%3A nowrap%3B%22><span class%3D%22edgeLabel%22><%2Fspan><%2Fdiv><%2FforeignObject><%2Fg><%2Fg><g class%3D%22edgeLabel%22 transform%3D%22translate(91.34242248535156%2C 1416.686894416809)%22><g class%3D%22label%22 transform%3D%22translate(-8.004199981689453%2C -11.993697166442871)%22><foreignObject width%3D%2216.008399963378906%22 height%3D%2223.987394332885742%22><div xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22 style%3D%22display%3A inline-block%3B white-space%3A nowrap%3B%22><span class%3D%22edgeLabel%22>是<%2Fspan><%2Fdiv><%2FforeignObject><%2Fg><%2Fg><g class%3D%22edgeLabel%22 transform%3D%22translate(1123.7352142333984%2C 358.84662914276123)%22><g class%3D%22label%22 transform%3D%22translate(-8.004199981689453%2C -11.993697166442871)%22><foreignObject width%3D%2216.008399963378906%22 height%3D%2223.987394332885742%22><div xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22 style%3D%22display%3A inline-block%3B white-space%3A nowrap%3B%22><span class%3D%22edgeLabel%22>否<%2Fspan><%2Fdiv><%2FforeignObject><%2Fg><%2Fg><g class%3D%22edgeLabel%22 transform%3D%22translate(328.823486328125%2C 1572.659580230713)%22><g class%3D%22label%22 transform%3D%22translate(-8.004199981689453%2C -11.993697166442871)%22><foreignObject width%3D%2216.008399963378906%22 height%3D%2223.987394332885742%22><div xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22 style%3D%22display%3A inline-block%3B white-space%3A nowrap%3B%22><span class%3D%22edgeLabel%22>是<%2Fspan><%2Fdiv><%2FforeignObject><%2Fg><%2Fg><g class%3D%22edgeLabel%22 transform%3D%22translate(1257.6364669799805%2C 702.7835779190063)%22><g class%3D%22label%22 transform%3D%22translate(-8.004199981689453%2C -11.993697166442871)%22><foreignObject width%3D%2216.008399963378906%22 height%3D%2223.987394332885742%22><div xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22 style%3D%22display%3A inline-block%3B white-space%3A nowrap%3B%22><span class%3D%22edgeLabel%22>否<%2Fspan><%2Fdiv><%2FforeignObject><%2Fg><%2Fg><g class%3D%22edgeLabel%22 transform%3D%22translate(596.6259918212891%2C 1728.6322660446167)%22><g class%3D%22label%22 transform%3D%22translate(-8.004199981689453%2C -11.993697166442871)%22><foreignObject width%3D%2216.008399963378906%22 height%3D%2223.987394332885742%22><div xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22 style%3D%22display%3A inline-block%3B white-space%3A nowrap%3B%22><span class%3D%22edgeLabel%22>是<%2Fspan><%2Fdiv><%2FforeignObject><%2Fg><%2Fg><g class%3D%22edgeLabel%22 transform%3D%22translate(1402.4757499694824%2C 1064.7457342147827)%22><g class%3D%22label%22 transform%3D%22translate(-8.004199981689453%2C -11.993697166442871)%22><foreignObject width%3D%2216.008399963378906%22 height%3D%2223.987394332885742%22><div xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22 style%3D%22display%3A inline-block%3B white-space%3A nowrap%3B%22><span class%3D%22edgeLabel%22>否<%2Fspan><%2Fdiv><%2FforeignObject><%2Fg><%2Fg><g class%3D%22edgeLabel%22 transform%3D%22translate(886.304557800293%2C 1892.6028537750244)%22><g class%3D%22label%22 transform%3D%22translate(-8.004199981689453%2C -11.993697166442871)%22><foreignObject width%3D%2216.008399963378906%22 height%3D%2223.987394332885742%22><div xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22 style%3D%22display%3A inline-block%3B white-space%3A nowrap%3B%22><span class%3D%22edgeLabel%22>是<%2Fspan><%2Fdiv><%2FforeignObject><%2Fg><%2Fg><g class%3D%22edgeLabel%22 transform%3D%22translate(1540.4106140136719%2C 1416.686894416809)%22><g class%3D%22label%22 transform%3D%22translate(-8.004199981689453%2C -11.993697166442871)%22><foreignObject width%3D%2216.008399963378906%22 height%3D%2223.987394332885742%22><div xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22 style%3D%22display%3A inline-block%3B white-space%3A nowrap%3B%22><span class%3D%22edgeLabel%22>否<%2Fspan><%2Fdiv><%2FforeignObject><%2Fg><%2Fg><g class%3D%22edgeLabel%22 transform%3D%22translate(1162.1742858886719%2C 2056.573441505432)%22><g class%3D%22label%22 transform%3D%22translate(-8.004199981689453%2C -11.993697166442871)%22><foreignObject width%3D%2216.008399963378906%22 height%3D%2223.987394332885742%22><div xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22 style%3D%22display%3A inline-block%3B white-space%3A nowrap%3B%22><span class%3D%22edgeLabel%22>是<%2Fspan><%2Fdiv><%2FforeignObject><%2Fg><%2Fg><g class%3D%22edgeLabel%22 transform%3D%22translate(1668.8192176818848%2C 1728.6322660446167)%22><g class%3D%22label%22 transform%3D%22translate(-8.004199981689453%2C -11.993697166442871)%22><foreignObject width%3D%2216.008399963378906%22 height%3D%2223.987394332885742%22><div xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22 style%3D%22display%3A inline-block%3B white-space%3A nowrap%3B%22><span class%3D%22edgeLabel%22>否<%2Fspan><%2Fdiv><%2FforeignObject><%2Fg><%2Fg><g class%3D%22edgeLabel%22 transform%3D%22translate(1418.9914932250977%2C 2244.3297271728516)%22><g class%3D%22label%22 transform%3D%22translate(-8.004199981689453%2C -11.993697166442871)%22><foreignObject width%3D%2216.008399963378906%22 height%3D%2223.987394332885742%22><div xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22 style%3D%22display%3A inline-block%3B white-space%3A nowrap%3B%22><span class%3D%22edgeLabel%22>是<%2Fspan><%2Fdiv><%2FforeignObject><%2Fg><%2Fg><g class%3D%22edgeLabel%22 transform%3D%22translate(1796.6007270812988%2C 2056.573441505432)%22><g class%3D%22label%22 transform%3D%22translate(-8.004199981689453%2C -11.993697166442871)%22><foreignObject width%3D%2216.008399963378906%22 height%3D%2223.987394332885742%22><div xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22 style%3D%22display%3A inline-block%3B white-space%3A nowrap%3B%22><span class%3D%22edgeLabel%22>否<%2Fspan><%2Fdiv><%2FforeignObject><%2Fg><%2Fg><g class%3D%22edgeLabel%22 transform%3D%22translate(1674.5545120239258%2C 2432.086012840271)%22><g class%3D%22label%22 transform%3D%22translate(-8.004199981689453%2C -11.993697166442871)%22><foreignObject width%3D%2216.008399963378906%22 height%3D%2223.987394332885742%22><div xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22 style%3D%22display%3A inline-block%3B white-space%3A nowrap%3B%22><span class%3D%22edgeLabel%22>是<%2Fspan><%2Fdiv><%2FforeignObject><%2Fg><%2Fg><g class%3D%22edgeLabel%22 transform%3D%22translate(1918.6469421386719%2C 2432.086012840271)%22><g class%3D%22label%22 transform%3D%22translate(-8.004199981689453%2C -11.993697166442871)%22><foreignObject width%3D%2216.008399963378906%22 height%3D%2223.987394332885742%22><div xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22 style%3D%22display%3A inline-block%3B white-space%3A nowrap%3B%22><span class%3D%22edgeLabel%22>否<%2Fspan><%2Fdiv><%2FforeignObject><%2Fg><%2Fg><g class%3D%22edgeLabel%22><g class%3D%22label%22 transform%3D%22translate(0%2C 0)%22><foreignObject width%3D%220%22 height%3D%220%22><div xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22 style%3D%22display%3A inline-block%3B white-space%3A nowrap%3B%22><span class%3D%22edgeLabel%22><%2Fspan><%2Fdiv><%2FforeignObject><%2Fg><%2Fg><g class%3D%22edgeLabel%22><g class%3D%22label%22 transform%3D%22translate(0%2C 0)%22><foreignObject width%3D%220%22 height%3D%220%22><div xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22 style%3D%22display%3A inline-block%3B white-space%3A nowrap%3B%22><span class%3D%22edgeLabel%22><%2Fspan><%2Fdiv><%2FforeignObject><%2Fg><%2Fg><g class%3D%22edgeLabel%22><g class%3D%22label%22 transform%3D%22translate(0%2C 0)%22><foreignObject width%3D%220%22 height%3D%220%22><div xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22 style%3D%22display%3A inline-block%3B white-space%3A nowrap%3B%22><span class%3D%22edgeLabel%22><%2Fspan><%2Fdiv><%2FforeignObject><%2Fg><%2Fg><g class%3D%22edgeLabel%22><g class%3D%22label%22 transform%3D%22translate(0%2C 0)%22><foreignObject width%3D%220%22 height%3D%220%22><div xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22 style%3D%22display%3A inline-block%3B white-space%3A nowrap%3B%22><span class%3D%22edgeLabel%22><%2Fspan><%2Fdiv><%2FforeignObject><%2Fg><%2Fg><g class%3D%22edgeLabel%22><g class%3D%22label%22 transform%3D%22translate(0%2C 0)%22><foreignObject width%3D%220%22 height%3D%220%22><div xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22 style%3D%22display%3A inline-block%3B white-space%3A nowrap%3B%22><span class%3D%22edgeLabel%22><%2Fspan><%2Fdiv><%2FforeignObject><%2Fg><%2Fg><g class%3D%22edgeLabel%22><g class%3D%22label%22 transform%3D%22translate(0%2C 0)%22><foreignObject width%3D%220%22 height%3D%220%22><div xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22 style%3D%22display%3A inline-block%3B white-space%3A nowrap%3B%22><span class%3D%22edgeLabel%22><%2Fspan><%2Fdiv><%2FforeignObject><%2Fg><%2Fg><g class%3D%22edgeLabel%22><g class%3D%22label%22 transform%3D%22translate(0%2C 0)%22><foreignObject width%3D%220%22 height%3D%220%22><div xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22 style%3D%22display%3A inline-block%3B white-space%3A nowrap%3B%22><span class%3D%22edgeLabel%22><%2Fspan><%2Fdiv><%2FforeignObject><%2Fg><%2Fg><g class%3D%22edgeLabel%22><g class%3D%22label%22 transform%3D%22translate(0%2C 0)%22><foreignObject width%3D%220%22 height%3D%220%22><div xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22 style%3D%22display%3A inline-block%3B white-space%3A nowrap%3B%22><span class%3D%22edgeLabel%22><%2Fspan><%2Fdiv><%2FforeignObject><%2Fg><%2Fg><%2Fg><g class%3D%22nodes%22><g class%3D%22node default default flowchart-label%22 id%3D%22flowchart-A-70%22 data-node%3D%22true%22 data-id%3D%22A%22 transform%3D%22translate(1004.9946823120117%2C 19.493696212768555)%22><rect class%3D%22basic label-container%22 style%3D%22%22 rx%3D%220%22 ry%3D%220%22 x%3D%22-79.49369049072266%22 y%3D%22-19.49369716644287%22 width%3D%22158.9873809814453%22 height%3D%2238.98739433288574%22><%2Frect><g class%3D%22label%22 style%3D%22%22 transform%3D%22translate(-71.99369049072266%2C -11.993697166442871)%22><rect><%2Frect><foreignObject width%3D%22143.9873809814453%22 height%3D%2223.987394332885742%22><div xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22 style%3D%22display%3A inline-block%3B white-space%3A nowrap%3B%22><span class%3D%22nodeLabel%22>开始：明确数据需求<%2Fspan><%2Fdiv><%2FforeignObject><%2Fg><%2Fg><g class%3D%22node default default flowchart-label%22 id%3D%22flowchart-B-71%22 data-node%3D%22true%22 data-id%3D%22B%22 transform%3D%22translate(1004.9946823120117%2C 205.42016220092773)%22><polygon points%3D%22116.43276786804199%2C0 232.86553573608398%2C-116.43276786804199 116.43276786804199%2C-232.86553573608398 0%2C-116.43276786804199%22 class%3D%22label-container%22 transform%3D%22translate(-116.43276786804199%2C116.43276786804199)%22 style%3D%22%22><%2Fpolygon><g class%3D%22label%22 style%3D%22%22 transform%3D%22translate(-77.44537353515625%2C -23.987394332885742)%22><rect><%2Frect><foreignObject width%3D%22154.8907470703125%22 height%3D%2247.974788665771484%22><div xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22 style%3D%22display%3A inline-block%3B white-space%3A nowrap%3B%22><span class%3D%22nodeLabel%22>是否需要 ACID 事务？<br%2F>（如转账、下单）<%2Fspan><%2Fdiv><%2FforeignObject><%2Fg><%2Fg><g class%3D%22node default default flowchart-label%22 id%3D%22flowchart-C-73%22 data-node%3D%22true%22 data-id%3D%22C%22 transform%3D%22translate(91.34242248535156%2C 2524.5544986724854)%22><rect class%3D%22basic label-container%22 style%3D%22%22 rx%3D%220%22 ry%3D%220%22 x%3D%22-91.34242248535156%22 y%3D%22-55.474788665771484%22 width%3D%22182.68484497070312%22 height%3D%22110.94957733154297%22><%2Frect><g class%3D%22label%22 style%3D%22%22 transform%3D%22translate(-83.84242248535156%2C -47.974788665771484)%22><rect><%2Frect><foreignObject width%3D%22167.68484497070312%22 height%3D%2295.94957733154297%22><div xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22 style%3D%22display%3A inline-block%3B white-space%3A nowrap%3B%22><span class%3D%22nodeLabel%22>选择：关系型数据库<br%2F>（MySQL%2C PostgreSQL）<br%2F>或 NewSQL<br%2F>（TiDB%2C CockroachDB）<%2Fspan><%2Fdiv><%2FforeignObject><%2Fg><%2Fg><g class%3D%22node default default flowchart-label%22 id%3D%22flowchart-D-75%22 data-node%3D%22true%22 data-id%3D%22D%22 transform%3D%22translate(1123.7352142333984%2C 530.8151035308838)%22><polygon points%3D%22134.97477531433105%2C0 269.9495506286621%2C-134.97477531433105 134.97477531433105%2C-269.9495506286621 0%2C-134.97477531433105%22 class%3D%22label-container%22 transform%3D%22translate(-134.97477531433105%2C134.97477531433105)%22 style%3D%22%22><%2Fpolygon><g class%3D%22label%22 style%3D%22%22 transform%3D%22translate(-95.98738098144531%2C -23.987394332885742)%22><rect><%2Frect><foreignObject width%3D%22191.97476196289062%22 height%3D%2247.974788665771484%22><div xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22 style%3D%22display%3A inline-block%3B white-space%3A nowrap%3B%22><span class%3D%22nodeLabel%22>数据核心是“关系”吗？<br%2F>（如社交网络、风控图谱）<%2Fspan><%2Fdiv><%2FforeignObject><%2Fg><%2Fg><g class%3D%22node default default flowchart-label%22 id%3D%22flowchart-E-77%22 data-node%3D%22true%22 data-id%3D%22E%22 transform%3D%22translate(328.823486328125%2C 2524.5544986724854)%22><rect class%3D%22basic label-container%22 style%3D%22%22 rx%3D%220%22 ry%3D%220%22 x%3D%22-96.13864135742188%22 y%3D%22-31.487394332885742%22 width%3D%22192.27728271484375%22 height%3D%2262.974788665771484%22><%2Frect><g class%3D%22label%22 style%3D%22%22 transform%3D%22translate(-88.63864135742188%2C -23.987394332885742)%22><rect><%2Frect><foreignObject width%3D%22177.27728271484375%22 height%3D%2247.974788665771484%22><div xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22 style%3D%22display%3A inline-block%3B white-space%3A nowrap%3B%22><span class%3D%22nodeLabel%22>选择：图数据库<br%2F>（Neo4j%2C NebulaGraph）<%2Fspan><%2Fdiv><%2FforeignObject><%2Fg><%2Fg><g class%3D%22node default default flowchart-label%22 id%3D%22flowchart-F-79%22 data-node%3D%22true%22 data-id%3D%22F%22 transform%3D%22translate(1257.6364669799805%2C 883.7646560668945)%22><polygon points%3D%22143.9873867034912%2C0 287.9747734069824%2C-143.9873867034912 143.9873867034912%2C-287.9747734069824 0%2C-143.9873867034912%22 class%3D%22label-container%22 transform%3D%22translate(-143.9873867034912%2C143.9873867034912)%22 style%3D%22%22><%2Fpolygon><g class%3D%22label%22 style%3D%22%22 transform%3D%22translate(-104.99999237060547%2C -23.987394332885742)%22><rect><%2Frect><foreignObject width%3D%22209.99998474121094%22 height%3D%2247.974788665771484%22><div xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22 style%3D%22display%3A inline-block%3B white-space%3A nowrap%3B%22><span class%3D%22nodeLabel%22>是否高并发写入 %2B 稀疏结构？<br%2F>（如聊天记录、IoT 指标）<%2Fspan><%2Fdiv><%2FforeignObject><%2Fg><%2Fg><g class%3D%22node default default flowchart-label%22 id%3D%22flowchart-G-81%22 data-node%3D%22true%22 data-id%3D%22G%22 transform%3D%22translate(596.6259918212891%2C 2524.5544986724854)%22><rect class%3D%22basic label-container%22 style%3D%22%22 rx%3D%220%22 ry%3D%220%22 x%3D%22-121.66385650634766%22 y%3D%22-31.487394332885742%22 width%3D%22243.3277130126953%22 height%3D%2262.974788665771484%22><%2Frect><g class%3D%22label%22 style%3D%22%22 transform%3D%22translate(-114.16385650634766%2C -23.987394332885742)%22><rect><%2Frect><foreignObject width%3D%22228.3277130126953%22 height%3D%2247.974788665771484%22><div xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22 style%3D%22display%3A inline-block%3B white-space%3A nowrap%3B%22><span class%3D%22nodeLabel%22>选择：宽表数据库<br%2F>（Cassandra%2C HBase%2C ScyllaDB）<%2Fspan><%2Fdiv><%2FforeignObject><%2Fg><%2Fg><g class%3D%22node default default flowchart-label%22 id%3D%22flowchart-H-83%22 data-node%3D%22true%22 data-id%3D%22H%22 transform%3D%22translate(1402.4757499694824%2C 1240.716314315796)%22><polygon points%3D%22138.976881980896%2C0 277.953763961792%2C-138.976881980896 138.976881980896%2C-277.953763961792 0%2C-138.976881980896%22 class%3D%22label-container%22 transform%3D%22translate(-138.976881980896%2C138.976881980896)%22 style%3D%22%22><%2Fpolygon><g class%3D%22label%22 style%3D%22%22 transform%3D%22translate(-111.98318481445312%2C -11.993697166442871)%22><rect><%2Frect><foreignObject width%3D%22223.96636962890625%22 height%3D%2223.987394332885742%22><div xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22 style%3D%22display%3A inline-block%3B white-space%3A nowrap%3B%22><span class%3D%22nodeLabel%22>是否需要全文检索或日志分析？<%2Fspan><%2Fdiv><%2FforeignObject><%2Fg><%2Fg><g class%3D%22node default default flowchart-label%22 id%3D%22flowchart-I-85%22 data-node%3D%22true%22 data-id%3D%22I%22 transform%3D%22translate(886.304557800293%2C 2524.5544986724854)%22><rect class%3D%22basic label-container%22 style%3D%22%22 rx%3D%220%22 ry%3D%220%22 x%3D%22-118.01470184326172%22 y%3D%22-31.487394332885742%22 width%3D%22236.02940368652344%22 height%3D%2262.974788665771484%22><%2Frect><g class%3D%22label%22 style%3D%22%22 transform%3D%22translate(-110.51470184326172%2C -23.987394332885742)%22><rect><%2Frect><foreignObject width%3D%22221.02940368652344%22 height%3D%2247.974788665771484%22><div xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22 style%3D%22display%3A inline-block%3B white-space%3A nowrap%3B%22><span class%3D%22nodeLabel%22>选择：搜索引擎<br%2F>（Elasticsearch%2C OpenSearch）<%2Fspan><%2Fdiv><%2FforeignObject><%2Fg><%2Fg><g class%3D%22node default default flowchart-label%22 id%3D%22flowchart-J-87%22 data-node%3D%22true%22 data-id%3D%22J%22 transform%3D%22translate(1540.4106140136719%2C 1572.659580230713)%22><polygon points%3D%22118.9789867401123%2C0 237.9579734802246%2C-118.9789867401123 118.9789867401123%2C-237.9579734802246 0%2C-118.9789867401123%22 class%3D%22label-container%22 transform%3D%22translate(-118.9789867401123%2C118.9789867401123)%22 style%3D%22%22><%2Fpolygon><g class%3D%22label%22 style%3D%22%22 transform%3D%22translate(-79.99159240722656%2C -23.987394332885742)%22><rect><%2Frect><foreignObject width%3D%22159.98318481445312%22 height%3D%2247.974788665771484%22><div xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22 style%3D%22display%3A inline-block%3B white-space%3A nowrap%3B%22><span class%3D%22nodeLabel%22>是否为时间序列数据？<br%2F>（带时间戳的指标）<%2Fspan><%2Fdiv><%2FforeignObject><%2Fg><%2Fg><g class%3D%22node default default flowchart-label%22 id%3D%22flowchart-K-89%22 data-node%3D%22true%22 data-id%3D%22K%22 transform%3D%22translate(1162.1742858886719%2C 2524.5544986724854)%22><rect class%3D%22basic label-container%22 style%3D%22%22 rx%3D%220%22 ry%3D%220%22 x%3D%22-107.85502624511719%22 y%3D%22-43.4810905456543%22 width%3D%22215.71005249023438%22 height%3D%2286.9621810913086%22><%2Frect><g class%3D%22label%22 style%3D%22%22 transform%3D%22translate(-100.35502624511719%2C -35.9810905456543)%22><rect><%2Frect><foreignObject width%3D%22200.71005249023438%22 height%3D%2271.9621810913086%22><div xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22 style%3D%22display%3A inline-block%3B white-space%3A nowrap%3B%22><span class%3D%22nodeLabel%22>选择：时序数据库<br%2F>（InfluxDB%2C TDengine%2C<br%2F>Prometheus%2C TimescaleDB）<%2Fspan><%2Fdiv><%2FforeignObject><%2Fg><%2Fg><g class%3D%22node default default flowchart-label%22 id%3D%22flowchart-L-91%22 data-node%3D%22true%22 data-id%3D%22L%22 transform%3D%22translate(1668.8192176818848%2C 1892.6028537750244)%22><polygon points%3D%22126.97688865661621%2C0 253.95377731323242%2C-126.97688865661621 126.97688865661621%2C-253.95377731323242 0%2C-126.97688865661621%22 class%3D%22label-container%22 transform%3D%22translate(-126.97688865661621%2C126.97688865661621)%22 style%3D%22%22><%2Fpolygon><g class%3D%22label%22 style%3D%22%22 transform%3D%22translate(-87.98949432373047%2C -23.987394332885742)%22><rect><%2Frect><foreignObject width%3D%22175.97898864746094%22 height%3D%2247.974788665771484%22><div xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22 style%3D%22display%3A inline-block%3B white-space%3A nowrap%3B%22><span class%3D%22nodeLabel%22>数据结构是否频繁变化？<br%2F>或为半结构化 JSON？<%2Fspan><%2Fdiv><%2FforeignObject><%2Fg><%2Fg><g class%3D%22node default default flowchart-label%22 id%3D%22flowchart-M-93%22 data-node%3D%22true%22 data-id%3D%22M%22 transform%3D%22translate(1418.9914932250977%2C 2524.5544986724854)%22><rect class%3D%22basic label-container%22 style%3D%22%22 rx%3D%220%22 ry%3D%220%22 x%3D%22-98.9621810913086%22 y%3D%22-31.487394332885742%22 width%3D%22197.9243621826172%22 height%3D%2262.974788665771484%22><%2Frect><g class%3D%22label%22 style%3D%22%22 transform%3D%22translate(-91.4621810913086%2C -23.987394332885742)%22><rect><%2Frect><foreignObject width%3D%22182.9243621826172%22 height%3D%2247.974788665771484%22><div xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22 style%3D%22display%3A inline-block%3B white-space%3A nowrap%3B%22><span class%3D%22nodeLabel%22>选择：文档数据库<br%2F>（MongoDB%2C Couchbase）<%2Fspan><%2Fdiv><%2FforeignObject><%2Fg><%2Fg><g class%3D%22node default default flowchart-label%22 id%3D%22flowchart-N-95%22 data-node%3D%22true%22 data-id%3D%22N%22 transform%3D%22translate(1796.6007270812988%2C 2244.3297271728516)%22><polygon points%3D%22150.76258659362793%2C0 301.52517318725586%2C-150.76258659362793 150.76258659362793%2C-301.52517318725586 0%2C-150.76258659362793%22 class%3D%22label-container%22 transform%3D%22translate(-150.76258659362793%2C150.76258659362793)%22 style%3D%22%22><%2Fpolygon><g class%3D%22label%22 style%3D%22%22 transform%3D%22translate(-111.77519226074219%2C -23.987394332885742)%22><rect><%2Frect><foreignObject width%3D%22223.55038452148438%22 height%3D%2247.974788665771484%22><div xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22 style%3D%22display%3A inline-block%3B white-space%3A nowrap%3B%22><span class%3D%22nodeLabel%22>是否只需简单 Key-Value 读写？<br%2F>（如缓存、会话）<%2Fspan><%2Fdiv><%2FforeignObject><%2Fg><%2Fg><g class%3D%22node default default flowchart-label%22 id%3D%22flowchart-O-97%22 data-node%3D%22true%22 data-id%3D%22O%22 transform%3D%22translate(1674.5545120239258%2C 2524.5544986724854)%22><rect class%3D%22basic label-container%22 style%3D%22%22 rx%3D%220%22 ry%3D%220%22 x%3D%22-106.60083770751953%22 y%3D%22-31.487394332885742%22 width%3D%22213.20167541503906%22 height%3D%2262.974788665771484%22><%2Frect><g class%3D%22label%22 style%3D%22%22 transform%3D%22translate(-99.10083770751953%2C -23.987394332885742)%22><rect><%2Frect><foreignObject width%3D%22198.20167541503906%22 height%3D%2247.974788665771484%22><div xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22 style%3D%22display%3A inline-block%3B white-space%3A nowrap%3B%22><span class%3D%22nodeLabel%22>选择：键值数据库<br%2F>（Redis%2C DynamoDB%2C etcd）<%2Fspan><%2Fdiv><%2FforeignObject><%2Fg><%2Fg><g class%3D%22node default default flowchart-label%22 id%3D%22flowchart-P-99%22 data-node%3D%22true%22 data-id%3D%22P%22 transform%3D%22translate(1918.6469421386719%2C 2524.5544986724854)%22><rect class%3D%22basic label-container%22 style%3D%22%22 rx%3D%220%22 ry%3D%220%22 x%3D%22-87.49159240722656%22 y%3D%22-31.487394332885742%22 width%3D%22174.98318481445312%22 height%3D%2262.974788665771484%22><%2Frect><g class%3D%22label%22 style%3D%22%22 transform%3D%22translate(-79.99159240722656%2C -23.987394332885742)%22><rect><%2Frect><foreignObject width%3D%22159.98318481445312%22 height%3D%2247.974788665771484%22><div xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22 style%3D%22display%3A inline-block%3B white-space%3A nowrap%3B%22><span class%3D%22nodeLabel%22>重新审视需求！<br%2F>可能需组合多种数据库<%2Fspan><%2Fdiv><%2FforeignObject><%2Fg><%2Fg><g class%3D%22node default default flowchart-label%22 id%3D%22flowchart-Q-101%22 data-node%3D%22true%22 data-id%3D%22Q%22 transform%3D%22translate(1024.2394218444824%2C 2649.5229835510254)%22><rect class%3D%22basic label-container%22 style%3D%22%22 rx%3D%220%22 ry%3D%220%22 x%3D%22-119.48318481445312%22 y%3D%22-19.49369716644287%22 width%3D%22238.96636962890625%22 height%3D%2238.98739433288574%22><%2Frect><g class%3D%22label%22 style%3D%22%22 transform%3D%22translate(-111.98318481445312%2C -11.993697166442871)%22><rect><%2Frect><foreignObject width%3D%22223.96636962890625%22 height%3D%2223.987394332885742%22><div xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22 style%3D%22display%3A inline-block%3B white-space%3A nowrap%3B%22><span class%3D%22nodeLabel%22>结束：确认运维、生态、扩展性<%2Fspan><%2Fdiv><%2FforeignObject><%2Fg><%2Fg><%2Fg><%2Fg><%2Fg><%2Fsvg>" alt="SVG content" /></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://pengline.github.io">余一叶知秋尽</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://pengline.github.io/2025/10/7c537a595a0f4075b5c7ed3bb8389716/">https://pengline.github.io/2025/10/7c537a595a0f4075b5c7ed3bb8389716/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://pengline.github.io" target="_blank">余一叶知秋尽</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93/">分布式数据库</a><a class="post-meta__tags" href="/tags/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/">架构设计</a><a class="post-meta__tags" href="/tags/DB%E6%8A%80%E6%9C%AF%E9%80%89%E5%9E%8B/">DB技术选型</a><a class="post-meta__tags" href="/tags/%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/">关系型数据库</a><a class="post-meta__tags" href="/tags/%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/">非关系型数据库</a><a class="post-meta__tags" href="/tags/%E5%88%97%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93/">列式数据库</a><a class="post-meta__tags" href="/tags/%E6%96%87%E6%A1%A3%E6%95%B0%E6%8D%AE%E5%BA%93/">文档数据库</a><a class="post-meta__tags" href="/tags/%E5%AE%BD%E8%A1%A8%E6%95%B0%E6%8D%AE%E5%BA%93/">宽表数据库</a><a class="post-meta__tags" href="/tags/%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93/">时序数据库</a></div><div class="post-share"><div class="social-share" data-image="/img/essay/small204229In3bP1756557749.webp" data-sites="wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/10/1cd851cd23aa40929133d1d020c76d0c/" title="物联网 MQTT 协议详解及使用场景"><img class="cover" src= "/img/20241215205335173426721579192.webp" data-lazy-src="/img/essay/small160843rjlZC1759046923.webp" onerror="onerror=null;src='/img/k3zssqvjw2d.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">物联网 MQTT 协议详解及使用场景</div></div><div class="info-2"><div class="info-item-1">MQTT 是一种轻量级的消息传输协议，广泛用于物联网应用，一种简洁且稳定的遥测数据传输方式。</div></div></div></a><a class="pagination-related" href="/2025/10/e957152912ce463aa001ac0dda36a695/" title="系统架构技术选型之 MQ 篇"><img class="cover" src= "/img/20241215205335173426721579192.webp" data-lazy-src="/img/essay/small194442zl9VR1758541482.webp" onerror="onerror=null;src='/img/k3zssqvjw2d.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">系统架构技术选型之 MQ 篇</div></div><div class="info-2"><div class="info-item-1">主流 MQ 包括 Kafka、RabbitMQ、RocketMQ。本文从多个维度对这三者进行详细对比分析，帮助进行技术选型。</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2025/09/351e0f653b484f3cb3ed3c71e3c1bb5a/" title="分库分表之跨表分页查询解决方案"><img class="cover" src= "/img/20241215205335173426721579192.webp" data-lazy-src="/img/essay/1715140728331171514072863.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-09-05</div><div class="info-item-2">分库分表之跨表分页查询解决方案</div></div><div class="info-2"><div class="info-item-1">分库、分表、分片、分区的区别，以及如何实现跨表的分页查询</div></div></div></a><a class="pagination-related" href="/2025/08/6efb20fcd51b42c4a7a358edeb242cf6/" title="DDD 领域模型在订单系统中的应用案例"><img class="cover" src= "/img/20241215205335173426721579192.webp" data-lazy-src="/img/essay/small082829wjhIN1756340909.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-08-27</div><div class="info-item-2">DDD 领域模型在订单系统中的应用案例</div></div><div class="info-2"><div class="info-item-1">如何在系统中使用 DDD 领域模型，以订单模块为例，充分展示该模型的设计和魅力。</div></div></div></a><a class="pagination-related" href="/2025/10/e957152912ce463aa001ac0dda36a695/" title="系统架构技术选型之 MQ 篇"><img class="cover" src= "/img/20241215205335173426721579192.webp" data-lazy-src="/img/essay/small194442zl9VR1758541482.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-10-12</div><div class="info-item-2">系统架构技术选型之 MQ 篇</div></div><div class="info-2"><div class="info-item-1">主流 MQ 包括 Kafka、RabbitMQ、RocketMQ。本文从多个维度对这三者进行详细对比分析，帮助进行技术选型。</div></div></div></a><a class="pagination-related" href="/2025/09/64e3ec6a2be5436b9bd931ad7a023235/" title="系统架构设计的实施考量和演进过程"><img class="cover" src= "/img/20241215205335173426721579192.webp" data-lazy-src="/img/essay/small202824LQTsk1760099304.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-09-11</div><div class="info-item-2">系统架构设计的实施考量和演进过程</div></div><div class="info-2"><div class="info-item-1">介绍了架构设计的基本维度和设计考量，以及具体的实施流程和架构演进的详细过程，以电商系统为例。</div></div></div></a></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="giscus-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%88OLTP%EF%BC%89"><span class="toc-number">1.</span> <span class="toc-text">关系型数据库（OLTP）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#MySQL"><span class="toc-number">1.1.</span> <span class="toc-text">MySQL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PostgreSQL"><span class="toc-number">1.2.</span> <span class="toc-text">PostgreSQL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Oracle"><span class="toc-number">1.3.</span> <span class="toc-text">Oracle</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-Server"><span class="toc-number">1.4.</span> <span class="toc-text">SQL Server</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E9%9D%A2%E6%AF%94%E8%BE%83"><span class="toc-number">1.5.</span> <span class="toc-text">全面比较</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E5%9E%8B%E5%88%86%E5%B8%83%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%88NewSQL%EF%BC%89"><span class="toc-number">2.</span> <span class="toc-text">关系型分布式数据库（NewSQL）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#TiDB"><span class="toc-number">2.1.</span> <span class="toc-text">TiDB</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CockroachDB"><span class="toc-number">2.2.</span> <span class="toc-text">CockroachDB</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#OceanBase"><span class="toc-number">2.3.</span> <span class="toc-text">OceanBase</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Spanner%EF%BC%88Google-Cloud%EF%BC%89"><span class="toc-number">2.4.</span> <span class="toc-text">Spanner（Google Cloud）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#YugabyteDB"><span class="toc-number">2.5.</span> <span class="toc-text">YugabyteDB</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E9%9D%A2%E6%AF%94%E8%BE%83-2"><span class="toc-number">2.6.</span> <span class="toc-text">全面比较</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%94%AE%E5%80%BC%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%88KV%EF%BC%89"><span class="toc-number">3.</span> <span class="toc-text">键值数据库（KV）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Redis"><span class="toc-number">3.1.</span> <span class="toc-text">Redis</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Memcached"><span class="toc-number">3.2.</span> <span class="toc-text">Memcached</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#RocksDB"><span class="toc-number">3.3.</span> <span class="toc-text">RocksDB</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DynamoDB%EF%BC%88AWS%EF%BC%89"><span class="toc-number">3.4.</span> <span class="toc-text">DynamoDB（AWS）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Etcd"><span class="toc-number">3.5.</span> <span class="toc-text">Etcd</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E9%9D%A2%E6%AF%94%E8%BE%83-3"><span class="toc-number">3.6.</span> <span class="toc-text">全面比较</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E6%A1%A3%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%88NoSQL%EF%BC%89"><span class="toc-number">4.</span> <span class="toc-text">文档数据库（NoSQL）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#MongoDB"><span class="toc-number">4.1.</span> <span class="toc-text">MongoDB</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CouchDB"><span class="toc-number">4.2.</span> <span class="toc-text">CouchDB</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Couchbase"><span class="toc-number">4.3.</span> <span class="toc-text">Couchbase</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Elasticsearch%EF%BC%88%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%EF%BC%89"><span class="toc-number">4.4.</span> <span class="toc-text">Elasticsearch（搜索引擎）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E9%9D%A2%E6%AF%94%E8%BE%83-4"><span class="toc-number">4.5.</span> <span class="toc-text">全面比较</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%97%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%88OLAP%EF%BC%89"><span class="toc-number">5.</span> <span class="toc-text">列式数据库（OLAP）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ClickHouse"><span class="toc-number">5.1.</span> <span class="toc-text">ClickHouse</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Doris-StarRocks"><span class="toc-number">5.2.</span> <span class="toc-text">Doris &#x2F; StarRocks</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Druid"><span class="toc-number">5.3.</span> <span class="toc-text">Druid</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E9%9D%A2%E6%AF%94%E8%BE%83-5"><span class="toc-number">5.4.</span> <span class="toc-text">全面比较</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%BD%E8%A1%A8%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%88Wide-Column%EF%BC%89"><span class="toc-number">6.</span> <span class="toc-text">宽表数据库（Wide-Column）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Cassandra"><span class="toc-number">6.1.</span> <span class="toc-text">Cassandra</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HBase"><span class="toc-number">6.2.</span> <span class="toc-text">HBase</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ScyllaDB"><span class="toc-number">6.3.</span> <span class="toc-text">ScyllaDB</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E9%9D%A2%E6%AF%94%E8%BE%83-6"><span class="toc-number">6.4.</span> <span class="toc-text">全面比较</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%88TSDB%EF%BC%89"><span class="toc-number">7.</span> <span class="toc-text">时序数据库（TSDB）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#InfluxDB"><span class="toc-number">7.1.</span> <span class="toc-text">InfluxDB</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Prometheus"><span class="toc-number">7.2.</span> <span class="toc-text">Prometheus</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TDengine"><span class="toc-number">7.3.</span> <span class="toc-text">TDengine</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TimescaleDB"><span class="toc-number">7.4.</span> <span class="toc-text">TimescaleDB</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E9%9D%A2%E6%AF%94%E8%BE%83-7"><span class="toc-number">7.5.</span> <span class="toc-text">全面比较</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%BE%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">8.</span> <span class="toc-text">图数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Neo4j"><span class="toc-number">8.1.</span> <span class="toc-text">Neo4j</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JanusGraph"><span class="toc-number">8.2.</span> <span class="toc-text">JanusGraph</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Dgraph-NebulaGraph"><span class="toc-number">8.3.</span> <span class="toc-text">Dgraph &#x2F; NebulaGraph</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E9%9D%A2%E6%AF%94%E8%BE%83-8"><span class="toc-number">8.4.</span> <span class="toc-text">全面比较</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DB-%E9%80%89%E5%9E%8B%E5%BB%BA%E8%AE%AE"><span class="toc-number">9.</span> <span class="toc-text">DB 选型建议</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E5%9E%8B%E6%B5%81%E7%A8%8B"><span class="toc-number">9.1.</span> <span class="toc-text">选型流程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%80%E6%9C%AFvs%E6%88%90%E6%9C%AC"><span class="toc-number">9.2.</span> <span class="toc-text">技术vs成本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E5%B1%82%E5%AD%98%E5%82%A8"><span class="toc-number">9.3.</span> <span class="toc-text">分层存储</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E6%80%A7%E6%AF%94%E8%BE%83"><span class="toc-number">9.4.</span> <span class="toc-text">特性比较</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2025 By 余一叶知秋尽</span><span class="framework-info"><span>框架 </span><a href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.4.3</a></span></div><div class="footer_custom_text"><p><a style="margin-inline:5px"target="_blank"href="https://github.com/"><img src= "/img/20241215205335173426721579192.webp" data-lazy-src="https://img.shields.io/badge/Hosted-Github-brightgreen?style=flat&logo=GitHub"title="本站项目由Gtihub托管"></a><a style="margin-inline:5px"target="_blank"href="https://hexo.io/"><img src= "/img/20241215205335173426721579192.webp" data-lazy-src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&logo=hexo"title="博客框架为Hexo"></a><a style="margin-inline:5px"target="_blank"href="https://butterfly.js.org/"><img src= "/img/20241215205335173426721579192.webp" data-lazy-src="https://img.shields.io/badge/Theme-Butterfly-6513df?logoColor=white&style=flat&logo=buefy"title="主题采用butterfly"></a><a style="margin-inline:5px"target="_blank"href="https://giscus.app/zh-CN/"><img src= "/img/20241215205335173426721579192.webp" data-lazy-src="https://img.shields.io/badge/Comment-Giscus-2873df?logoColor=white&style=flat&logo=git"title="评论系统为Giscus"></a><a style="margin-inline:5px"target="_blank"href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img src= "/img/20241215205335173426721579192.webp" data-lazy-src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&logo=Claris"title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"></a></p></div><script src="https://unpkg.com/mermaid@11.5.0/dist/mermaid.min.js"></script><script>if (window.mermaid) {
  mermaid.initialize({
    startOnLoad: true,
    theme: '[object Object]',
    securityLevel: 'loose',
    flowchart: { useMaxWidth: true, htmlLabels: true }
  });
}</script></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><a class="icon-V hidden" onclick="switchNightMode()" title="日间和夜间模式切换"><svg width="25" height="25" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-moon"></use></svg></a><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><div class="js-pjax"><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = `%%{init:{ 'theme':'${theme}'}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (true) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'
  const option = null

  const getGiscusTheme = theme => theme === 'dark' ? 'dark' : 'light'

  const createScriptElement = config => {
    const ele = document.createElement('script')
    Object.entries(config).forEach(([key, value]) => {
      ele.setAttribute(key, value)
    })
    return ele
  }

  const loadGiscus = (el = document, key) => {
    const mappingConfig = isShuoshuo
      ? { 'data-mapping': 'specific', 'data-term': key }
      : { 'data-mapping': (option && option['data-mapping']) || 'pathname' }

    const giscusConfig = {
      src: 'https://giscus.app/client.js',
      'data-repo': 'pengline/pengline.github.io',
      'data-repo-id': 'R_kgDOPqG50w',
      'data-category-id': 'DIC_kwDOPqG5084Cu_K9',
      'data-theme': getGiscusTheme(document.documentElement.getAttribute('data-theme')),
      'data-reactions-enabled': '1',
      crossorigin: 'anonymous',
      'data-lang': 'zh-CN',
      'data-input-position': 'top',
      async: true,
      ...option,
      ...mappingConfig
    }

    const scriptElement = createScriptElement(giscusConfig)

    el.querySelector('#giscus-wrap').appendChild(scriptElement)

    if (isShuoshuo) {
      window.shuoshuoComment.destroyGiscus = () => {
        if (el.children.length) {
          el.innerHTML = ''
          el.classList.add('no-comment')
        }
      }
    }
  }

  const changeGiscusTheme = theme => {
    const iframe = document.querySelector('#giscus-wrap iframe')
    if (iframe) {
      const message = {
        giscus: {
          setConfig: {
            theme: getGiscusTheme(theme),
            lang: 'zh-CN'
          }
        }
      }
      iframe.contentWindow.postMessage(message, 'https://giscus.app')
    }
  }

  btf.addGlobalFn('themeChange', changeGiscusTheme, 'giscus')

  if (isShuoshuo) {
    'Giscus' === 'Giscus'
      ? window.shuoshuoComment = { loadComment: loadGiscus }
      : window.loadOtherComment = loadGiscus
    return
  }

  if ('Giscus' === 'Giscus' || !false) {
    if (false) btf.loadComment(document.getElementById('giscus-wrap'), loadGiscus)
    else loadGiscus()
  } else {
    window.loadOtherComment = loadGiscus
  }
})()</script></div><script src="/js/custom/sun_moon.js" async></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>